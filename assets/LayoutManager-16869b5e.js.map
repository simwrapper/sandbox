{"version":3,"file":"LayoutManager-16869b5e.js","sources":["../../node_modules/dompurify/dist/purify.es.js","../../node_modules/medium-zoom/dist/medium-zoom.esm.js","../../src/components/TopsheetsFinder/TopsheetsFinder.vue","../../src/layout-manager/FolderBrowser.vue","../../src/layout-manager/TabbedDashboardView.vue","../../src/components/FileSystemProjects.vue","../../src/layout-manager/SplashPage.vue","../../src/assets/simwrapper-logo/SW_logo_yellow.png","../../src/assets/simwrapper-logo/SW_logo_purple.png","../../src/assets/icons/files.svg","../../src/assets/icons/issues.svg","../../src/assets/icons/settings.svg","../../src/assets/icons/readme.svg","../../src/components/left-panels/LeftIconPanel.vue","../../src/components/left-panels/ErrorPanel.vue","../../src/components/left-panels/AddDataSource.vue","../../src/components/left-panels/BrowserPanel.vue","../../src/components/left-panels/SettingsPanel.vue","../../src/layout-manager/LayoutManager.vue"],"sourcesContent":["/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar hasOwnProperty = Object.hasOwnProperty,\n    setPrototypeOf = Object.setPrototypeOf,\n    isFrozen = Object.isFrozen,\n    getPrototypeOf = Object.getPrototypeOf,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar freeze = Object.freeze,\n    seal = Object.seal,\n    create = Object.create; // eslint-disable-line import/no-mutable-exports\n\nvar _ref = typeof Reflect !== 'undefined' && Reflect,\n    apply = _ref.apply,\n    construct = _ref.construct;\n\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function construct(Func, args) {\n    return _construct(Func, _toConsumableArray(args));\n  };\n}\n\nvar arrayForEach = unapply(Array.prototype.forEach);\nvar arrayPop = unapply(Array.prototype.pop);\nvar arrayPush = unapply(Array.prototype.push);\nvar stringToLowerCase = unapply(String.prototype.toLowerCase);\nvar stringMatch = unapply(String.prototype.match);\nvar stringReplace = unapply(String.prototype.replace);\nvar stringIndexOf = unapply(String.prototype.indexOf);\nvar stringTrim = unapply(String.prototype.trim);\nvar regExpTest = unapply(RegExp.prototype.test);\nvar typeErrorCreate = unconstruct(TypeError);\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return construct(func, args);\n  };\n}\n/* Add properties to a lookup table */\n\nfunction addToSet(set, array, transformCaseFunc) {\n  transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  var l = array.length;\n\n  while (l--) {\n    var element = array[l];\n\n    if (typeof element === 'string') {\n      var lcElement = transformCaseFunc(element);\n\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n/* Shallow clone an object */\n\nfunction clone(object) {\n  var newObject = create(null);\n  var property;\n\n  for (property in object) {\n    if (apply(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n/* IE10 doesn't support __lookupGetter__ so lets'\n * simulate it. It also automatically checks\n * if the prop is function or getter and behaves\n * accordingly. */\n\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    var desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(element) {\n    console.warn('fallback value for', element);\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nvar html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\nvar svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nvar svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\n\nvar svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nvar mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\n\nvar mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nvar text = freeze(['#text']);\n\nvar html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\nvar svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nvar mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nvar xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\nvar MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\nvar ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nvar DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\nvar ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\nvar IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nvar IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nvar ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nvar DOCTYPE_NAME = seal(/^html$/i);\n\nvar getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\n\n\nvar _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n  if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  } // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n\n\n  var suffix = null;\n  var ATTR_NAME = 'data-tt-policy-suffix';\n\n  if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML: function createHTML(html) {\n        return html;\n      },\n      createScriptURL: function createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\n\nfunction createDOMPurify() {\n  var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n  var DOMPurify = function DOMPurify(root) {\n    return createDOMPurify(root);\n  };\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n\n\n  DOMPurify.version = '2.4.0';\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n\n  var originalDocument = window.document;\n  var document = window.document;\n  var DocumentFragment = window.DocumentFragment,\n      HTMLTemplateElement = window.HTMLTemplateElement,\n      Node = window.Node,\n      Element = window.Element,\n      NodeFilter = window.NodeFilter,\n      _window$NamedNodeMap = window.NamedNodeMap,\n      NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n      HTMLFormElement = window.HTMLFormElement,\n      DOMParser = window.DOMParser,\n      trustedTypes = window.trustedTypes;\n  var ElementPrototype = Element.prototype;\n  var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n\n  if (typeof HTMLTemplateElement === 'function') {\n    var template = document.createElement('template');\n\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n  var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n  var _document = document,\n      implementation = _document.implementation,\n      createNodeIterator = _document.createNodeIterator,\n      createDocumentFragment = _document.createDocumentFragment,\n      getElementsByTagName = _document.getElementsByTagName;\n  var importNode = originalDocument.importNode;\n  var documentMode = {};\n\n  try {\n    documentMode = clone(document).documentMode ? document.documentMode : {};\n  } catch (_) {}\n\n  var hooks = {};\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n\n  DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n  var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n      ERB_EXPR$1 = ERB_EXPR,\n      DATA_ATTR$1 = DATA_ATTR,\n      ARIA_ATTR$1 = ARIA_ATTR,\n      IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n  var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n\n  var ALLOWED_TAGS = null;\n  var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n  /* Allowed attribute names */\n\n  var ALLOWED_ATTR = null;\n  var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n\n  var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n  var FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n  var FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n\n  var ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n\n  var ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n\n  var ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n\n  var SAFE_FOR_TEMPLATES = false;\n  /* Decide if document with <html>... should be returned */\n\n  var WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n\n  var SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n\n  var FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n\n  var RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n  var RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n\n  var RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n\n  var SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n\n  var SANITIZE_NAMED_PROPS = false;\n  var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n\n  var KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n\n  var IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n\n  var USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n\n  var FORBID_CONTENTS = null;\n  var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n\n  var DATA_URI_TAGS = null;\n  var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n\n  var URI_SAFE_ATTRIBUTES = null;\n  var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n\n  var NAMESPACE = HTML_NAMESPACE;\n  var IS_EMPTY_INPUT = false;\n  /* Parsing of strict XHTML documents */\n\n  var PARSER_MEDIA_TYPE;\n  var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  var transformCaseFunc;\n  /* Keep a reference to config to pass to hooks */\n\n  var CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n\n  /* ______________________________________________ */\n\n  var formElement = document.createElement('form');\n\n  var isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n\n\n  var _parseConfig = function _parseConfig(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n\n\n    if (!cfg || _typeof(cfg) !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n\n\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n      return x;\n    } : stringToLowerCase;\n    /* Set configuration parameters */\n\n    ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n    cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n    cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n\n\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n      ALLOWED_ATTR = [];\n\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n\n\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n\n\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    } // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n\n\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n\n  var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n\n  var ALL_SVG_TAGS = addToSet({}, svg$1);\n  addToSet(ALL_SVG_TAGS, svgFilters);\n  addToSet(ALL_SVG_TAGS, svgDisallowed);\n  var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n  addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n  /**\n   *\n   *\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n\n  var _checkValidNamespace = function _checkValidNamespace(element) {\n    var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: HTML_NAMESPACE,\n        tagName: 'template'\n      };\n    }\n\n    var tagName = stringToLowerCase(element.tagName);\n    var parentTagName = stringToLowerCase(parent.tagName);\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      } // The only way to switch from MathML to SVG is via\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n\n\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      } // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n\n\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      } // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n\n\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      } // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n\n\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      } // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n\n\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    } // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG or MathML). Return false just in case.\n\n\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n\n\n  var _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      try {\n        node.outerHTML = emptyHTML;\n      } catch (_) {\n        node.remove();\n      }\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n\n\n  var _removeAttribute = function _removeAttribute(name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node\n      });\n    }\n\n    node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n\n\n  var _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    var doc;\n    var leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n\n    var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n\n\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n      } catch (_) {// Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    var body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n\n\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n\n\n  var _createIterator = function _createIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n\n\n  var _isClobbered = function _isClobbered(elm) {\n    return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n  };\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n\n\n  var _isNode = function _isNode(object) {\n    return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n  };\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n\n\n  var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], function (hook) {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n\n\n  var _sanitizeElements = function _sanitizeElements(currentNode) {\n    var content;\n    /* Execute a hook if present */\n\n    _executeHook('beforeSanitizeElements', currentNode, null);\n    /* Check if element is clobbered or can clobber */\n\n\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Check if tagname contains Unicode */\n\n\n    if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Now let's check the element's type and name */\n\n\n    var tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName: tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n\n\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Mitigate a problem with templates inside select */\n\n\n    if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n\n\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n      }\n      /* Keep content except for bad-listed elements */\n\n\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          var childCount = childNodes.length;\n\n          for (var i = childCount - 1; i >= 0; --i) {\n            parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n\n\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n\n    if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n\n\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n      content = stringReplace(content, ERB_EXPR$1, ' ');\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n\n\n  var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n\n\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n      return false;\n    }\n\n    return true;\n  };\n  /**\n   * _basicCustomElementCheck\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   * @param {string} tagName name of the tag of the node to sanitize\n   */\n\n\n  var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n    return tagName.indexOf('-') > 0;\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n\n\n  var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    var attr;\n    var value;\n    var lcName;\n    var l;\n    /* Execute a hook if present */\n\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    var attributes = currentNode.attributes;\n    /* Check if we have attributes; if not we might have a text node */\n\n    if (!attributes) {\n      return;\n    }\n\n    var hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR\n    };\n    l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n\n    while (l--) {\n      attr = attributes[l];\n      var _attr = attr,\n          name = _attr.name,\n          namespaceURI = _attr.namespaceURI;\n      value = name === 'value' ? attr.value : stringTrim(attr.value);\n      lcName = transformCaseFunc(name);\n      /* Execute a hook if present */\n\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n\n\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n\n\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n\n\n      if (regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n        value = stringReplace(value, ERB_EXPR$1, ' ');\n      }\n      /* Is `value` valid for this attribute? */\n\n\n      var lcTag = transformCaseFunc(currentNode.nodeName);\n\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n\n\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Handle attributes that require Trusted Types */\n\n\n      if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n\n            case 'TrustedScriptURL':\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n\n\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n\n\n  var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    var shadowNode;\n\n    var shadowIterator = _createIterator(fragment);\n    /* Execute a hook if present */\n\n\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n      /* Sanitize tags and elements */\n\n\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n      /* Deep shadow DOM detected */\n\n\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n\n\n      _sanitizeAttributes(shadowNode);\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n\n\n  DOMPurify.sanitize = function (dirty) {\n    var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var body;\n    var importedNode;\n    var currentNode;\n    var oldNode;\n    var returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n\n    IS_EMPTY_INPUT = !dirty;\n\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n\n\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw typeErrorCreate('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      }\n    }\n    /* Check we can run. Otherwise fall back or ignore */\n\n\n    if (!DOMPurify.isSupported) {\n      if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n    /* Assign config vars */\n\n\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n\n\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        var tagName = transformCaseFunc(dirty.nodeName);\n\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n\n\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n\n\n    var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n\n\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n      /* Sanitize tags and elements */\n\n\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n      /* Shadow DOM detected, sanitize it */\n\n\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n\n\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n    /* If we sanitized `dirty` in-place, return it. */\n\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n\n\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n\n\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n\n\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n\n    SET_CONFIG = true;\n  };\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    var lcTag = transformCaseFunc(tag);\n    var lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n\n\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n\n\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n\n\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.js.map\n","/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar isSupported = function isSupported(node) {\n  return node.tagName === 'IMG';\n};\n\n/* eslint-disable-next-line no-prototype-builtins */\nvar isNodeList = function isNodeList(selector) {\n  return NodeList.prototype.isPrototypeOf(selector);\n};\n\nvar isNode = function isNode(selector) {\n  return selector && selector.nodeType === 1;\n};\n\nvar isSvg = function isSvg(image) {\n  var source = image.currentSrc || image.src;\n  return source.substr(-4).toLowerCase() === '.svg';\n};\n\nvar getImagesFromSelector = function getImagesFromSelector(selector) {\n  try {\n    if (Array.isArray(selector)) {\n      return selector.filter(isSupported);\n    }\n\n    if (isNodeList(selector)) {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(selector).filter(isSupported);\n    }\n\n    if (isNode(selector)) {\n      return [selector].filter(isSupported);\n    }\n\n    if (typeof selector === 'string') {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);\n    }\n\n    return [];\n  } catch (err) {\n    throw new TypeError('The provided selector is invalid.\\n' + 'Expects a CSS selector, a Node element, a NodeList or an array.\\n' + 'See: https://github.com/francoischalifour/medium-zoom');\n  }\n};\n\nvar createOverlay = function createOverlay(background) {\n  var overlay = document.createElement('div');\n  overlay.classList.add('medium-zoom-overlay');\n  overlay.style.background = background;\n\n  return overlay;\n};\n\nvar cloneTarget = function cloneTarget(template) {\n  var _template$getBounding = template.getBoundingClientRect(),\n      top = _template$getBounding.top,\n      left = _template$getBounding.left,\n      width = _template$getBounding.width,\n      height = _template$getBounding.height;\n\n  var clone = template.cloneNode();\n  var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n\n  clone.removeAttribute('id');\n  clone.style.position = 'absolute';\n  clone.style.top = top + scrollTop + 'px';\n  clone.style.left = left + scrollLeft + 'px';\n  clone.style.width = width + 'px';\n  clone.style.height = height + 'px';\n  clone.style.transform = '';\n\n  return clone;\n};\n\nvar createCustomEvent = function createCustomEvent(type, params) {\n  var eventParams = _extends({\n    bubbles: false,\n    cancelable: false,\n    detail: undefined\n  }, params);\n\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(type, eventParams);\n  }\n\n  var customEvent = document.createEvent('CustomEvent');\n  customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);\n\n  return customEvent;\n};\n\nvar mediumZoom = function mediumZoom(selector) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * Ensure the compatibility with IE11 if no Promise polyfill are used.\n   */\n  var Promise = window.Promise || function Promise(fn) {\n    function noop() {}\n    fn(noop, noop);\n  };\n\n  var _handleClick = function _handleClick(event) {\n    var target = event.target;\n\n\n    if (target === overlay) {\n      close();\n      return;\n    }\n\n    if (images.indexOf(target) === -1) {\n      return;\n    }\n\n    toggle({ target: target });\n  };\n\n  var _handleScroll = function _handleScroll() {\n    if (isAnimating || !active.original) {\n      return;\n    }\n\n    var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n\n    if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {\n      setTimeout(close, 150);\n    }\n  };\n\n  var _handleKeyUp = function _handleKeyUp(event) {\n    var key = event.key || event.keyCode;\n\n    // Close if escape key is pressed\n    if (key === 'Escape' || key === 'Esc' || key === 27) {\n      close();\n    }\n  };\n\n  var update = function update() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var newOptions = options;\n\n    if (options.background) {\n      overlay.style.background = options.background;\n    }\n\n    if (options.container && options.container instanceof Object) {\n      newOptions.container = _extends({}, zoomOptions.container, options.container);\n    }\n\n    if (options.template) {\n      var template = isNode(options.template) ? options.template : document.querySelector(options.template);\n\n      newOptions.template = template;\n    }\n\n    zoomOptions = _extends({}, zoomOptions, newOptions);\n\n    images.forEach(function (image) {\n      image.dispatchEvent(createCustomEvent('medium-zoom:update', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    return zoom;\n  };\n\n  var clone = function clone() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return mediumZoom(_extends({}, zoomOptions, options));\n  };\n\n  var attach = function attach() {\n    for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {\n      selectors[_key] = arguments[_key];\n    }\n\n    var newImages = selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []);\n\n    newImages.filter(function (newImage) {\n      return images.indexOf(newImage) === -1;\n    }).forEach(function (newImage) {\n      images.push(newImage);\n      newImage.classList.add('medium-zoom-image');\n    });\n\n    eventListeners.forEach(function (_ref) {\n      var type = _ref.type,\n          listener = _ref.listener,\n          options = _ref.options;\n\n      newImages.forEach(function (image) {\n        image.addEventListener(type, listener, options);\n      });\n    });\n\n    return zoom;\n  };\n\n  var detach = function detach() {\n    for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      selectors[_key2] = arguments[_key2];\n    }\n\n    if (active.zoomed) {\n      close();\n    }\n\n    var imagesToDetach = selectors.length > 0 ? selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []) : images;\n\n    imagesToDetach.forEach(function (image) {\n      image.classList.remove('medium-zoom-image');\n      image.dispatchEvent(createCustomEvent('medium-zoom:detach', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    images = images.filter(function (image) {\n      return imagesToDetach.indexOf(image) === -1;\n    });\n\n    return zoom;\n  };\n\n  var on = function on(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.addEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners.push({ type: 'medium-zoom:' + type, listener: listener, options: options });\n\n    return zoom;\n  };\n\n  var off = function off(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.removeEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners = eventListeners.filter(function (eventListener) {\n      return !(eventListener.type === 'medium-zoom:' + type && eventListener.listener.toString() === listener.toString());\n    });\n\n    return zoom;\n  };\n\n  var open = function open() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref2.target;\n\n    var _animate = function _animate() {\n      var container = {\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      };\n      var viewportWidth = void 0;\n      var viewportHeight = void 0;\n\n      if (zoomOptions.container) {\n        if (zoomOptions.container instanceof Object) {\n          // The container is given as an object with properties like width, height, left, top\n          container = _extends({}, container, zoomOptions.container);\n\n          // We need to adjust custom options like container.right or container.bottom\n          viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;\n          viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;\n        } else {\n          // The container is given as an element\n          var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);\n\n          var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(),\n              _width = _zoomContainer$getBou.width,\n              _height = _zoomContainer$getBou.height,\n              _left = _zoomContainer$getBou.left,\n              _top = _zoomContainer$getBou.top;\n\n          container = _extends({}, container, {\n            width: _width,\n            height: _height,\n            left: _left,\n            top: _top\n          });\n        }\n      }\n\n      viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;\n      viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;\n\n      var zoomTarget = active.zoomedHd || active.original;\n      var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;\n      var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;\n\n      var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(),\n          top = _zoomTarget$getBoundi.top,\n          left = _zoomTarget$getBoundi.left,\n          width = _zoomTarget$getBoundi.width,\n          height = _zoomTarget$getBoundi.height;\n\n      var scaleX = Math.min(naturalWidth, viewportWidth) / width;\n      var scaleY = Math.min(naturalHeight, viewportHeight) / height;\n      var scale = Math.min(scaleX, scaleY);\n      var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;\n      var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;\n      var transform = 'scale(' + scale + ') translate3d(' + translateX + 'px, ' + translateY + 'px, 0)';\n\n      active.zoomed.style.transform = transform;\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = transform;\n      }\n    };\n\n    return new Promise(function (resolve) {\n      if (target && images.indexOf(target) === -1) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleOpenEnd = function _handleOpenEnd() {\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleOpenEnd);\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:opened', {\n          detail: { zoom: zoom }\n        }));\n\n        resolve(zoom);\n      };\n\n      if (active.zoomed) {\n        resolve(zoom);\n        return;\n      }\n\n      if (target) {\n        // The zoom was triggered manually via a click\n        active.original = target;\n      } else if (images.length > 0) {\nvar _images = images;\n        active.original = _images[0];\n      } else {\n        resolve(zoom);\n        return;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:open', {\n        detail: { zoom: zoom }\n      }));\n\n      scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n      isAnimating = true;\n      active.zoomed = cloneTarget(active.original);\n\n      document.body.appendChild(overlay);\n\n      if (zoomOptions.template) {\n        var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);\n        active.template = document.createElement('div');\n        active.template.appendChild(template.content.cloneNode(true));\n\n        document.body.appendChild(active.template);\n      }\n\n      document.body.appendChild(active.zoomed);\n\n      window.requestAnimationFrame(function () {\n        document.body.classList.add('medium-zoom--opened');\n      });\n\n      active.original.classList.add('medium-zoom-image--hidden');\n      active.zoomed.classList.add('medium-zoom-image--opened');\n\n      active.zoomed.addEventListener('click', close);\n      active.zoomed.addEventListener('transitionend', _handleOpenEnd);\n\n      if (active.original.getAttribute('data-zoom-src')) {\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Reset the `scrset` property or the HD image won't load.\n        active.zoomedHd.removeAttribute('srcset');\n        active.zoomedHd.removeAttribute('sizes');\n\n        active.zoomedHd.src = active.zoomed.getAttribute('data-zoom-src');\n\n        active.zoomedHd.onerror = function () {\n          clearInterval(getZoomTargetSize);\n          console.warn('Unable to reach the zoom image target ' + active.zoomedHd.src);\n          active.zoomedHd = null;\n          _animate();\n        };\n\n        // We need to access the natural size of the full HD\n        // target as fast as possible to compute the animation.\n        var getZoomTargetSize = setInterval(function () {\n          if ( active.zoomedHd.complete) {\n            clearInterval(getZoomTargetSize);\n            active.zoomedHd.classList.add('medium-zoom-image--opened');\n            active.zoomedHd.addEventListener('click', close);\n            document.body.appendChild(active.zoomedHd);\n            _animate();\n          }\n        }, 10);\n      } else if (active.original.hasAttribute('srcset')) {\n        // If an image has a `srcset` attribuet, we don't know the dimensions of the\n        // zoomed (HD) image (like when `data-zoom-src` is specified).\n        // Therefore the approach is quite similar.\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Resetting the sizes attribute tells the browser to load the\n        // image best fitting the current viewport size, respecting the `srcset`.\n        active.zoomedHd.removeAttribute('sizes');\n\n        // In Firefox, the `loading` attribute needs to be set to `eager` (default\n        // value) for the load event to be fired.\n        active.zoomedHd.removeAttribute('loading');\n\n        // Wait for the load event of the hd image. This will fire if the image\n        // is already cached.\n        var loadEventListener = active.zoomedHd.addEventListener('load', function () {\n          active.zoomedHd.removeEventListener('load', loadEventListener);\n          active.zoomedHd.classList.add('medium-zoom-image--opened');\n          active.zoomedHd.addEventListener('click', close);\n          document.body.appendChild(active.zoomedHd);\n          _animate();\n        });\n      } else {\n        _animate();\n      }\n    });\n  };\n\n  var close = function close() {\n    return new Promise(function (resolve) {\n      if (isAnimating || !active.original) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleCloseEnd = function _handleCloseEnd() {\n        active.original.classList.remove('medium-zoom-image--hidden');\n        document.body.removeChild(active.zoomed);\n        if (active.zoomedHd) {\n          document.body.removeChild(active.zoomedHd);\n        }\n        document.body.removeChild(overlay);\n        active.zoomed.classList.remove('medium-zoom-image--opened');\n        if (active.template) {\n          document.body.removeChild(active.template);\n        }\n\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleCloseEnd);\n\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:closed', {\n          detail: { zoom: zoom }\n        }));\n\n        active.original = null;\n        active.zoomed = null;\n        active.zoomedHd = null;\n        active.template = null;\n\n        resolve(zoom);\n      };\n\n      isAnimating = true;\n      document.body.classList.remove('medium-zoom--opened');\n      active.zoomed.style.transform = '';\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = '';\n      }\n\n      // Fade out the template so it's not too abrupt\n      if (active.template) {\n        active.template.style.transition = 'opacity 150ms';\n        active.template.style.opacity = 0;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:close', {\n        detail: { zoom: zoom }\n      }));\n\n      active.zoomed.addEventListener('transitionend', _handleCloseEnd);\n    });\n  };\n\n  var toggle = function toggle() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref3.target;\n\n    if (active.original) {\n      return close();\n    }\n\n    return open({ target: target });\n  };\n\n  var getOptions = function getOptions() {\n    return zoomOptions;\n  };\n\n  var getImages = function getImages() {\n    return images;\n  };\n\n  var getZoomedImage = function getZoomedImage() {\n    return active.original;\n  };\n\n  var images = [];\n  var eventListeners = [];\n  var isAnimating = false;\n  var scrollTop = 0;\n  var zoomOptions = options;\n  var active = {\n    original: null,\n    zoomed: null,\n    zoomedHd: null,\n    template: null\n\n    // If the selector is omitted, it's replaced by the options\n  };if (Object.prototype.toString.call(selector) === '[object Object]') {\n    zoomOptions = selector;\n  } else if (selector || typeof selector === 'string' // to process empty string as a selector\n  ) {\n      attach(selector);\n    }\n\n  // Apply the default option values\n  zoomOptions = _extends({\n    margin: 0,\n    background: '#fff',\n    scrollOffset: 40,\n    container: null,\n    template: null\n  }, zoomOptions);\n\n  var overlay = createOverlay(zoomOptions.background);\n\n  document.addEventListener('click', _handleClick);\n  document.addEventListener('keyup', _handleKeyUp);\n  document.addEventListener('scroll', _handleScroll);\n  window.addEventListener('resize', close);\n\n  var zoom = {\n    open: open,\n    close: close,\n    toggle: toggle,\n    update: update,\n    clone: clone,\n    attach: attach,\n    detach: detach,\n    on: on,\n    off: off,\n    getOptions: getOptions,\n    getImages: getImages,\n    getZoomedImage: getZoomedImage\n  };\n\n  return zoom;\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}\";\nstyleInject(css);\n\nexport default mediumZoom;\n","<template lang=\"pug\">\n.topsheets-finder.curate-content\n  top-sheet(v-for=\"sheet of topsheets\" :key=\"sheet\"\n    :fileSystemConfig=\"fileSystemConfig\"\n    :subfolder=\"subfolder\"\n    :files=\"files\"\n    :yaml=\"sheet\"\n    :allConfigFiles=\"allConfigFiles\"\n  )\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { title: 'Key Performance Indicators' },\n  },\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport { FileSystemConfig, YamlConfigs } from '@/Globals'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\nimport TopSheet from '@/components/TopSheet/TopSheet.vue'\n\nexport default defineComponent({\n  name: 'TopsheetsFinder',\n  i18n,\n  components: { TopSheet },\n  props: {\n    fileSystemConfig: { type: Object as PropType<FileSystemConfig>, required: true },\n    subfolder: { type: String, required: true },\n    files: { type: Array as PropType<string[]>, required: true },\n  },\n\n  computed: {\n    fileApi(): HTTPFileSystem {\n      return new HTTPFileSystem(this.fileSystemConfig)\n    },\n  },\n\n  data: () => {\n    return {\n      allConfigFiles: {} as YamlConfigs,\n      topsheets: [] as any[],\n    }\n  },\n\n  watch: {\n    subfolder() {\n      this.filesUpdated()\n    },\n    files() {\n      this.filesUpdated()\n    },\n  },\n\n  methods: {\n    async findTopsheetsForThisFolder(): Promise<string[]> {\n      this.allConfigFiles = await this.fileApi.findAllYamlConfigs(this.subfolder)\n      return Object.values(this.allConfigFiles.topsheets)\n    },\n    async filesUpdated() {\n      if (this.files.length) {\n        this.topsheets = await this.findTopsheetsForThisFolder()\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\nh3.curate-heading {\n  font-size: 1.8rem;\n  font-weight: bold;\n  color: var(--textFancy);\n  padding-top: 0.5rem;\n  margin-top: 0rem;\n  margin-bottom: 0.5rem;\n}\n\n.curate-content {\n  padding: 1rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.output-table {\n  width: 100%;\n  display: table;\n}\n\n.row {\n  display: table-row;\n}\n\n.cell {\n  padding-right: 1rem;\n  display: table-cell;\n  font-size: 1.1rem;\n}\n\n// .top-label {\n// }\n\n.top-value {\n  text-align: right;\n  font-weight: bold;\n}\n</style>\n","<template lang=\"pug\">\n.folder-browser\n\n  //- show network errors\n  .stripe.details(v-if=\"myState.errorStatus\")\n   .vessel\n    .badnews(v-html=\"myState.errorStatus\")\n\n  //- main content\n  .stripe.details(v-else)\n   .vessel\n\n    //- these are sections defined by viz-summary.yml etc\n    .curated-sections\n\n      b.up-link: a(@click=\"$emit('up')\") ^ UP\n\n      //- this is the content of readme.md, if it exists\n      .readme-header.markdown\n        .curate-content.markdown(\n          v-if=\"myState.readme\"\n          v-html=\"myState.readme\"\n        )\n\n      //- file system folders\n      h3.curate-heading(v-if=\"myState.folders.length\")  {{ $t('Folders') }}\n\n      .curate-content(v-if=\"myState.folders.length\")\n        .folder-table\n          .folder(:class=\"{fade: myState.isLoading}\"\n                  :key=\"folder.name\"\n                  v-for=\"folder in myState.folders\"\n                  @click=\"openOutputFolder(folder)\")\n            p\n              i.fa.fa-folder-open\n              | &nbsp;{{ cleanName(folder) }}\n\n      //- MAPS: thumbnails of each viz map here\n      .section-maps(v-if=\"Object.keys(vizMaps).length\")\n        h3.curate-heading {{ $t('Maps')}}\n        .curate-content\n          .viz-table\n            .viz-grid-item(v-for=\"[index, viz] of Object.entries(vizMaps)\" :key=\"index\"\n                      @click=\"clickedVisualization(index)\")\n\n              .viz-frame\n                p.v-title: b {{ viz.title }}\n                p.v-filename {{ viz.config }}\n                p.v-plugin(:style=\"getTabColor(viz.component)\") {{ viz.component || 'dashboard' }}\n                component.viz-frame-component(\n                      v-show=\"false\"\n                      :is=\"viz.component\"\n                      :root=\"myState.svnProject.slug\"\n                      :subfolder=\"myState.subfolder\"\n                      :yamlConfig=\"viz.config\"\n                      :thumbnail=\"true\"\n                      :fileApi=\"myState.svnRoot\"\n                      :style=\"{'pointer-events': 'none'}\"\n                      @title=\"updateTitle(index, $event)\")\n\n      //- IMAGES here\n      .section-images(v-if=\"Object.keys(vizImages).length\")\n        h3.curate-heading {{ $t('Images')}}\n        .curate-content\n          .viz-image-table\n            .viz-image-grid-item(v-for=\"[index, viz] of Object.entries(vizImages)\" :key=\"index\"\n                      @click=\"clickedVisualization(index)\")\n\n              .viz-image-frame\n                component.viz-image-frame-component(\n                      :is=\"viz.component\"\n                      :root=\"myState.svnProject.slug\"\n                      :subfolder=\"myState.subfolder\"\n                      :yamlConfig=\"viz.config\"\n                      :thumbnail=\"true\"\n                      :fileApi=\"myState.svnRoot\"\n                      :style=\"{'pointer-events': 'auto'}\"\n                      @title=\"updateTitle(index, $event)\")\n                p {{ viz.title }}\n\n      //- FILES: individual links to files in this folder\n      //- this is DISABLED for Chrome API for now, because we\n      //- can't download those files via regular URL\n      .files-section(v-if=\"myState?.svnProject?.baseURL\")\n        h3.curate-heading(v-if=\"myState.files.length\") {{$t('Files')}}\n\n        .curate-content(v-if=\"myState.files.length\")\n          .file-table\n            .file(v-for=\"file in myState.files\" :key=\"file\"\n              :class=\"{fade: myState.isLoading}\"\n            )\n              a(:href=\"`${myState.svnProject.baseURL}/${myState.subfolder}/${file}`\") {{ cleanName(file) }}\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: {\n      Maps: 'Maps',\n      Images: 'Images',\n      Analysis: 'Analysis',\n      Files: 'Files',\n      Folders: 'Folders',\n      Topsheet: 'Topsheet',\n    },\n    de: {\n      Maps: 'Karten',\n      Images: 'Bilder',\n      Analysis: 'Ergebnisse',\n      Files: 'Dateien',\n      Folders: 'Ordner',\n      Topsheet: 'Topsheet',\n    },\n  },\n}\n\ninterface VizEntry {\n  component: string\n  config: string\n  title: string\n}\n\ninterface IMyState {\n  errorStatus: string\n  folders: string[]\n  files: string[]\n  isLoading: boolean\n  readme: string\n  svnProject: FileSystemConfig | null\n  svnRoot?: HTTPFileSystem\n  subfolder: string\n  summary: boolean\n  vizes: VizEntry[]\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\n\nimport markdown from 'markdown-it'\nimport mediumZoom from 'medium-zoom'\nimport micromatch from 'micromatch'\nimport yaml from 'yaml'\n\nimport globalStore from '@/store'\nimport { BreadCrumb, FileSystemConfig, YamlConfigs } from '@/Globals'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\n\nimport TopsheetsFinder from '@/components/TopsheetsFinder/TopsheetsFinder.vue'\n\nconst tabColors = {\n  // blank means dashboard:\n  '': '#118860',\n  // others are kebab-case:\n  'aggregate-od': '#E98B52',\n  'vehicle-anim': '#330033',\n  'x-y-t': '#583270',\n  'carrier-viewer': '#c97A2C',\n  events: '#4400ff',\n  hexagons: '#900564',\n  'area-map': '#c94264',\n  network: '#894654',\n  sankey: '#D8A672',\n  summary: '#2EA95B',\n  transit: '#3B6FE4',\n} as any\n\nexport default defineComponent({\n  name: 'FolderBrowser',\n  i18n,\n  components: Object.assign({ TopsheetsFinder }, pluginComponents),\n  props: {\n    root: { type: String, required: true },\n    allConfigFiles: { type: Object as PropType<YamlConfigs>, required: true },\n    xsubfolder: String,\n  },\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      summaryYamlFilename: 'viz-summary.yml',\n      mdRenderer: new markdown({\n        html: true,\n        linkify: true,\n        typographer: true,\n      }),\n      myState: {\n        errorStatus: '',\n        folders: [],\n        files: [],\n        isLoading: false,\n        readme: '',\n        svnProject: null,\n        svnRoot: undefined,\n        subfolder: '',\n        vizes: [],\n        summary: false,\n      } as IMyState,\n    }\n  },\n  computed: {\n    vizImages(): any {\n      const images: { [index: number]: any } = {}\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (this.myState.vizes[i].component === 'image-view') {\n          images[i] = this.myState.vizes[i]\n        }\n      }\n      return images\n    },\n\n    vizMaps(): any {\n      const maps: { [index: number]: any } = {}\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (this.myState.vizes[i].component !== 'image-view') {\n          maps[i] = this.myState.vizes[i]\n        }\n      }\n      return maps\n    },\n  },\n  methods: {\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    generateBreadcrumbs() {\n      if (!this.myState.svnProject) return []\n\n      const crumbs = [\n        {\n          label: 'SimWrapper',\n          url: '/',\n        },\n        {\n          label: this.myState.svnProject.name,\n          url: '/' + this.myState.svnProject.slug,\n        },\n      ]\n\n      const subfolders = this.myState.subfolder.split('/')\n      let buildFolder = '/'\n      for (const folder of subfolders) {\n        if (!folder) continue\n\n        buildFolder += folder + '/'\n        crumbs.push({\n          label: folder,\n          url: '/' + this.myState.svnProject.slug + buildFolder,\n        })\n      }\n\n      // save them!\n      globalStore.commit('setBreadCrumbs', crumbs)\n      return crumbs\n    },\n\n    clickedVisualization(vizNumber: number) {\n      const viz = this.myState.vizes[vizNumber]\n\n      // special case: images don't click thru\n      if (viz.component === 'image-view') return\n\n      if (!this.myState.svnProject) return\n\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: this.myState.subfolder,\n        subfolder: this.myState.subfolder,\n        yamlConfig: viz.config,\n        thumbnail: false,\n      }\n\n      this.$emit('navigate', { component: viz.component, props })\n    },\n\n    updateTitle(viz: number, title: string) {\n      this.myState.vizes[viz].title = title\n    },\n\n    async showReadme() {\n      this.myState.readme = ''\n      const readme = 'readme.md'\n      if (this.myState.files.map(f => f.toLocaleLowerCase()).indexOf(readme) > -1) {\n        if (!this.myState.svnRoot) return\n        const text = await this.myState.svnRoot.getFileText(this.myState.subfolder + '/' + readme)\n        this.myState.readme = this.mdRenderer.render(text)\n      }\n    },\n\n    buildShowEverythingView() {\n      // loop on each viz type\n      for (const viz of this.globalState.visualizationTypes.values()) {\n        // match based on file patterns registered for each viz\n        const matches = micromatch(this.myState.files, viz.filePatterns, { nocase: true })\n        for (const file of matches) {\n          // add thumbnail for each matching file\n          this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n        }\n      }\n    },\n\n    // Curate the view, if viz-summary.yml exists\n    async buildCuratedSummaryView() {\n      if (!this.myState.svnRoot) return\n\n      const summaryYaml = yaml.parse(\n        await this.myState.svnRoot.getFileText(\n          this.myState.subfolder + '/' + this.summaryYamlFilename\n        )\n      )\n\n      // loop on each curated viz type\n      for (const vizName of summaryYaml.plugins) {\n        // load plugin user asked for\n        const viz = this.globalState.visualizationTypes.get(vizName)\n        if (!viz) continue\n\n        // curate file list if provided for this plugin\n        if (summaryYaml[viz.kebabName]) {\n          for (const pattern of summaryYaml[viz.kebabName]) {\n            // add thumbnail for each matching file\n            const matches = await this.findMatchingFiles(pattern)\n            for (const file of matches) {\n              this.myState.vizes.push({ component: viz.kebabName, config: file, title: file })\n            }\n          }\n        } else {\n          // filter based on file matching\n          const matches = micromatch(this.myState.files, viz.filePatterns)\n          for (const file of matches) {\n            // add thumbnail for each matching file\n            this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n          }\n        }\n      }\n    },\n\n    async findMatchingFiles(glob: string): Promise<string[]> {\n      // first see if file itself is in this folder\n      if (this.myState.files.indexOf(glob) > -1) return [glob]\n\n      // return globs in this folder\n      const matches = micromatch(this.myState.files, glob)\n      if (matches.length) return matches\n\n      // search subfolder for glob, for now just one subfolder down\n      if (!this.myState.svnRoot) return []\n      try {\n        const split = glob.split('/')\n        const subsubfolder = this.myState.subfolder + '/' + split[0]\n        console.log(subsubfolder)\n        const contents = await this.myState.svnRoot.getDirectory(subsubfolder)\n        const matches = micromatch(contents.files, split[1])\n        return matches.map(f => split[0] + '/' + f)\n      } catch (e) {\n        // oh well, we tried\n      }\n\n      return []\n    },\n\n    async fetchFolderContents() {\n      if (!this.myState.svnRoot) return []\n\n      this.myState.isLoading = true\n      this.myState.errorStatus = ''\n      this.myState.files = []\n\n      try {\n        const folderContents = await this.myState.svnRoot.getDirectory(this.myState.subfolder)\n\n        // hide dot folders\n        const folders = folderContents.dirs.filter(f => !f.startsWith('.')).sort()\n        const files = folderContents.files.filter(f => !f.startsWith('.')).sort()\n\n        // Also show any project-level viz thumbnails from other folders\n        // (but, ensure that files in this folder supercede any project viz files\n        // with the same name)\n        const mergedFilesAndVizes = Object.assign({}, this.allConfigFiles.vizes)\n        for (const file of files) {\n          mergedFilesAndVizes[file] = file\n        }\n\n        const allVizes = Object.values(mergedFilesAndVizes)\n\n        this.myState.errorStatus = ''\n        this.myState.folders = folders\n        this.myState.files = allVizes\n      } catch (err) {\n        // Bad things happened! Tell user\n        const e = err as any\n        console.log('BAD PAGE')\n        console.log({ eeee: e })\n\n        this.myState.folders = []\n        this.myState.files = []\n\n        this.myState.errorStatus = '<h3>'\n        if (e.status) this.myState.errorStatus += `${e.status} `\n        if (e.statusText) this.myState.errorStatus += `${e.statusText}`\n        if (this.myState.errorStatus === '<h3>') this.myState.errorStatus += 'Error'\n        this.myState.errorStatus += `</h3>`\n        if (e.url) this.myState.errorStatus += `<p>${e.url}</p>`\n        if (e.message) this.myState.errorStatus += `<p>${e.message}</p>`\n        if (this.myState.errorStatus === '<h3>Error</h3>') this.myState.errorStatus = '' + e\n\n        if (this.myState.svnProject) {\n          this.myState.errorStatus += `<p><i>${this.myState.svnProject.baseURL}${this.myState.subfolder}</i></p>`\n        }\n\n        // maybe it failed because password?\n        if (this.myState.svnProject && this.myState.svnProject.needPassword && e.status === 401) {\n          globalStore.commit('requestLogin', this.myState.svnProject.slug)\n        }\n      } finally {\n        this.myState.isLoading = false\n      }\n    },\n\n    openOutputFolder(folder: string) {\n      if (this.myState.isLoading) return\n      if (!this.myState.svnProject) return\n\n      const target =\n        folder === '..'\n          ? this.myState.subfolder.substring(0, this.myState.subfolder.lastIndexOf('/'))\n          : this.myState.subfolder + '/' + folder\n\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: target,\n      }\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!target && !this.myState.subfolder) {\n        this.$emit('navigate', { component: 'SplashPage', props: {} })\n      } else {\n        this.$emit('navigate', { component: 'TabbedDashboardView', props })\n      }\n    },\n\n    getTabColor(kebabName: string) {\n      const color = tabColors[kebabName] || '#8778BB'\n      return { backgroundColor: color }\n    },\n\n    updateRoute() {\n      const svnProject = this.getFileSystem(this.root)\n\n      this.myState.svnProject = svnProject\n      this.myState.subfolder = this.xsubfolder || ''\n      this.myState.readme = ''\n\n      if (!this.myState.svnProject) return\n      this.myState.svnRoot = new HTTPFileSystem(this.myState.svnProject)\n\n      this.generateBreadcrumbs()\n\n      // this happens async\n      this.fetchFolderContents()\n    },\n  },\n  watch: {\n    'globalState.colorScheme'() {\n      // medium-zoom freaks out if color theme is swapped.\n      // so let's reload images just in case.\n      this.fetchFolderContents()\n    },\n    xsubfolder() {\n      this.updateRoute()\n    },\n    allConfigFiles() {\n      this.updateRoute()\n    },\n    'globalState.authAttempts'() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n    async 'myState.files'() {\n      // clear visualizations\n      this.myState.vizes = []\n      if (this.myState.files.length === 0) return\n\n      this.showReadme()\n\n      this.myState.summary = this.myState.files.indexOf(this.summaryYamlFilename) !== -1\n\n      if (this.myState.summary) {\n        await this.buildCuratedSummaryView()\n      } else {\n        this.buildShowEverythingView()\n      }\n\n      // make sure page is rendered before we attach zoom semantics\n      await this.$nextTick()\n      mediumZoom('.medium-zoom', {\n        background: '#444450',\n      })\n    },\n  },\n  mounted() {\n    this.updateRoute()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.vessel {\n  margin: 0 auto;\n  padding: 0rem 0rem 2rem 0rem;\n  max-width: $dashboardWidth + 3;\n}\n\n.white {\n  background-color: var(--bgBold);\n}\n\n.cream {\n  background-color: var(--bgCream);\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\nh3,\nh4 {\n  margin-top: 2rem;\n  margin-bottom: 0.5rem;\n}\n\n.badnews {\n  border-left: 3rem solid #af232f;\n  margin: 0rem 0rem;\n  padding: 0.5rem 0rem;\n  background-color: #ffc;\n  color: $matsimBlue;\n}\n\n.viz-table {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n}\n\n.viz-grid-item {\n  z-index: 1;\n  // text-align: center;\n  margin: 4px 0;\n  padding: 0 0;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  vertical-align: top;\n  background-color: var(--bgBrowser);\n  // border: var(--borderThin);\n  border-radius: 5px;\n}\n\n.viz-frame {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  flex: 1;\n  overflow: hidden;\n  padding: 5px 0 0 5px;\n  border-radius: 3px;\n  p {\n    margin: 0 0 0 0;\n    line-height: 1rem;\n    padding: 0 0;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-frame:hover {\n  // box-shadow: var(--shadowMode);\n  background-color: var(--bgHover);\n  border-radius: 5px;\n  transition: background-color 0.02s ease-in-out;\n}\n\n.viz-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.logo {\n  margin-left: auto;\n}\n\n.folder-table {\n  display: grid;\n  row-gap: 0rem;\n  column-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n  margin-bottom: 0px;\n  padding-left: 0px;\n}\n\n.folder {\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bgBrowser);\n  margin: 0.25rem 0rem;\n  padding: 0.75rem 1rem;\n  border-radius: 8px;\n  word-wrap: break-word;\n}\n\n.folder:hover {\n  background-color: var(--bgHover);\n  // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08), 0 3px 10px 0 rgba(0, 0, 0, 0.08);\n  transition: background-color 0.1s ease-in-out;\n}\n\n.project-bar {\n  display: flex;\n  margin-bottom: 1rem;\n  padding: 2rem 0 0 0;\n  z-index: 10000;\n}\n\n.project-bar p {\n  margin-top: -0.25rem;\n}\n\n.fade {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.file-table {\n  display: grid;\n  row-gap: 0rem;\n  column-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.file {\n  word-break: break-all;\n  line-height: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.markdown {\n  padding: 1rem 0rem;\n}\n\n.curated-sections {\n  padding-top: 0rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.curate-heading {\n  padding: 0rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.readme-header {\n  font-size: 1.1rem;\n  padding-bottom: 1rem;\n}\n\nh3.curate-heading {\n  font-size: 1.8rem;\n  font-weight: bold;\n  color: var(--textFancy);\n  padding-top: 0.5rem;\n  margin-top: 0rem;\n}\n\n.curate-content {\n  padding: 1rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.viz-image-table {\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n}\n\n.viz-image-grid-item {\n  z-index: 1;\n  text-align: center;\n  margin: 0 0;\n  padding: 0 0;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  vertical-align: top;\n  background-color: var(--bgBold);\n  border: var(--borderThin);\n  border-radius: 16px;\n}\n\n.viz-image-frame {\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  min-height: $thumbnailHeight;\n  border-radius: 16px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    margin: auto 0 0 0;\n    background-color: var(--bgDashboard);\n    font-size: 1rem;\n    font-weight: bold;\n    line-height: 1.2rem;\n    padding: 1rem 0.5rem;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-image-frame:hover {\n  box-shadow: var(--shadowMode);\n  transition: box-shadow 0.1s ease-in-out;\n}\n\n.viz-image-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.folder-browser {\n  background-color: var(--bgMapPanel);\n  padding: 0 3rem;\n}\n\n// p.v-title {\n//   // font-size: 1rem;\n// }\n\np.v-filename {\n  margin: 5px 0;\n}\n\np.v-plugin {\n  text-align: right;\n  text-transform: uppercase;\n  margin-left: auto;\n  color: white;\n  background-color: var(--bgCream3);\n  padding: 2px 3px;\n  border-radius: 0 0 4px 0;\n}\n</style>\n","<template lang=\"pug\">\n.tabbed-folder-view\n .centered-vessel(:class=\"{wiide}\")\n  .tabholder(v-show=\"!isZoomed\" :style=\"dashWidthCalculator\")\n    .tabholdercontainer\n      .project-header(v-if=\"header\" v-html=\"header\")\n      //- .breadcrumbs(v-else)\n      //-   h3 {{ pageHeader }}\n      //-   h4 {{ root }}: {{ xsubfolder && xsubfolder.startsWith('/') ? '' : '/' }}{{ xsubfolder }}\n\n      //- .folder-readme(v-if=\"folderReadme\"\n      //-   :class=\"{'readme-centered': !this.header}\"\n      //-   v-html=\"folderReadme\"\n      //- )\n\n      .tabs.is-centered\n\n        ul(style=\"margin-right: 1rem\")\n          li(v-for=\"tab,index in Object.keys(dashboards)\" :key=\"tab\"\n            :class=\"{'is-active': tab===activeTab, 'is-not-active': tab!==activeTab}\"\n            :style=\"{opacity: tab===activeTab ? 1.0 : 0.5}\"\n          )\n            b: a(v-if=\"dashboards[tab].header\" @click=\"switchTab(tab,index)\") {{ dashboards[tab].header.tab }}\n\n  dash-board(v-if=\"dashboardTabWithDelay && dashboardTabWithDelay !== 'FILE__BROWSER' && dashboards[dashboardTabWithDelay] && dashboards[dashboardTabWithDelay].header.tab !== '...'\"\n    :root=\"root\"\n    :xsubfolder=\"xsubfolder\"\n    :config=\"dashboards[dashboardTabWithDelay]\"\n    :datamanager=\"dashboardDataManager\"\n    :zoomed=\"isZoomed\"\n    :allConfigFiles=\"allConfigFiles\"\n    @zoom=\"handleZoom\"\n    @layoutComplete=\"handleLayoutComplete\"\n  )\n\n  folder-browser(v-if=\"dashboardTabWithDelay && dashboardTabWithDelay === 'FILE__BROWSER'\"\n    :root=\"root\"\n    :xsubfolder=\"xsubfolder\"\n    :allConfigFiles=\"allConfigFiles\"\n    @navigate=\"onNavigate\"\n    @up=\"goUpOneFolder()\"\n  )\n\n  p.load-error(v-show=\"loadErrorMessage\" @click=\"authorizeAfterError\"): b {{ loadErrorMessage }}\n\n  .tabholder(v-show=\"showFooter && !isZoomed\" :class=\"{wiide}\" :style=\"dashWidthCalculator\")\n    .tabholdercontainer(:class=\"{wiide}\")\n      .project-footer(v-if=\"footer\" v-html=\"footer\" :class=\"{wiide}\")\n\n</template>\n\n<script lang=\"ts\">\nimport Vue, { defineComponent } from 'vue'\n\nimport markdown from 'markdown-it'\nimport micromatch from 'micromatch'\nimport DOMPurify from 'dompurify'\nimport YAML from 'yaml'\n\nimport DashBoard from './DashBoard.vue'\nimport FolderBrowser from './FolderBrowser.vue'\n\nimport globalStore from '@/store'\nimport { FileSystemConfig, Status, YamlConfigs } from '@/Globals'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\nimport DashboardDataManager from '@/js/DashboardDataManager'\n\nconst NO_DASHBOARDS = ['.nodashboards', 'nodashboards', 'nodashboards.txt']\n\nconst mdRenderer = new markdown({\n  html: true,\n  linkify: true,\n  typographer: true,\n})\n\nexport default defineComponent({\n  name: 'TabbedDashboardView',\n  components: { DashBoard, FolderBrowser },\n  props: {\n    root: { type: String, required: true },\n    xsubfolder: { type: String, required: true },\n  },\n  data: () => {\n    return {\n      dashboards: [] as any[],\n      dashboardDataManager: null as DashboardDataManager | null,\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      isZoomed: false,\n      styleElement: null as any,\n      loadErrorMessage: '',\n      activeTab: '',\n      pageHeader: '',\n      folderReadme: '',\n      header: '',\n      footer: '',\n      customCSS: '',\n      dashboardTabWithDelay: '',\n      showFooter: false,\n    }\n  },\n  computed: {\n    fileApi(): HTTPFileSystem {\n      return new HTTPFileSystem(this.fileSystem, globalStore)\n    },\n    fileSystem(): FileSystemConfig {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === this.root\n      )\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n      return svnProject[0]\n    },\n    wiide(): boolean {\n      return this.$store.state.isFullWidth\n    },\n\n    dashWidthCalculator(): any {\n      if (this.$store.state.dashboardWidth && this.$store.state.isFullWidth) {\n        return { maxWidth: this.$store.state.dashboardWidth }\n      }\n      return {}\n    },\n  },\n  watch: {\n    root() {\n      this.updateRoute()\n    },\n    xsubfolder() {\n      this.updateRoute()\n    },\n  },\n  methods: {\n    clearStyles() {\n      if (this.styleElement) {\n        document.getElementsByTagName('head')[0].removeChild(this.styleElement)\n        this.styleElement = null\n      }\n    },\n\n    getPageHeader() {\n      if (this.xsubfolder) return this.xsubfolder.substring(1 + this.xsubfolder.lastIndexOf('/'))\n\n      return this.fileSystem.name || this.root\n    },\n\n    onNavigate(options: any) {\n      this.$emit('navigate', options)\n    },\n\n    async getFolderReadme() {\n      try {\n        this.folderReadme = ''\n        const { files } = await this.fileApi.getDirectory(this.xsubfolder)\n        const readmes = files.filter(f => f.toLocaleLowerCase() === 'readme.md')\n        if (!readmes.length) return\n\n        const readmeText = await this.fileApi.getFileText(`${this.xsubfolder}/${readmes[0]}`)\n        const html = mdRenderer.render(readmeText)\n        this.folderReadme = html\n      } catch (e) {\n        // no readme is OK\n        this.folderReadme = ''\n      }\n    },\n\n    async findConfigsAndDashboards() {\n      this.loadErrorMessage = ''\n      if (!this.fileApi) return []\n\n      await this.fileApi.getChromePermission(this.fileSystem.handle)\n\n      this.getFolderReadme()\n\n      try {\n        this.allConfigFiles = await this.fileApi.findAllYamlConfigs(this.xsubfolder)\n\n        const { files } = await this.fileApi.getDirectory(this.xsubfolder)\n\n        // if folder has .nodashboards, then skip all dashboards!\n        let showDashboards = true\n        NO_DASHBOARDS.forEach(filename => {\n          if (files.indexOf(filename) > -1) {\n            showDashboards = false\n          }\n        })\n\n        if (showDashboards) {\n          for (const fullPath of Object.values(this.allConfigFiles.dashboards)) {\n            // add the tab now\n            Vue.set(this.dashboards, fullPath, { header: { tab: '...' } })\n            // load the details (title)\n            const showThisDashboard = await this.initDashboard(fullPath)\n            // and now remove it if it isn't triggered. Yes this order is correct\n            if (!showThisDashboard) delete this.dashboards[fullPath as any]\n          }\n        }\n\n        // Add FileBrowser as \"Files\" tab\n        Vue.set(this.dashboards, 'FILE__BROWSER', { header: { tab: 'Files' } })\n\n        // // Start on correct tab\n        if (this.$route.query.tab) {\n          try {\n            const userSupplied = parseInt('' + this.$route.query.tab) - 1\n            const userTab = Object.keys(this.dashboards)[userSupplied]\n            this.activeTab = userTab || Object.keys(this.dashboards)[0]\n          } catch (e) {\n            // user spam; just use first tab\n            this.activeTab = Object.keys(this.dashboards)[0]\n          }\n        } else {\n          this.activeTab = Object.keys(this.dashboards)[0]\n        }\n        this.dashboardTabWithDelay = this.activeTab\n\n        // headers, footers, etc\n        await this.setupProjectConfig()\n      } catch (e) {\n        // Bad things happened! Tell user\n        console.warn({ eeee: e })\n        if (this.fileSystem.handle) {\n          this.loadErrorMessage = `Click to grant access to folder \"${this.fileSystem.handle.name}\"`\n        } else {\n          this.loadErrorMessage =\n            this.fileSystem.baseURL + '/' + this.xsubfolder + ': Could not load'\n        }\n      }\n    },\n\n    async setupProjectConfig() {\n      // no configs mean no setup is necessary\n      if (!Object.keys(this.allConfigFiles.configs).length) {\n        // no config, so show navbar and be done\n        // this.$store.commit('setShowLeftBar', true)\n        return\n      }\n\n      for (const filename of Object.values(this.allConfigFiles.configs)) {\n        try {\n          const config = await this.fileApi.getFileText(filename)\n          const yaml = YAML.parse(config)\n\n          // figure out relative path for config file\n          const yamlFolder = filename.startsWith('http')\n            ? ''\n            : filename.substring(0, filename.indexOf('simwrapper-config.y'))\n\n          // always reveal quickview bar unless told not to\n          // console.log(555, yaml.hideLeftBar)\n          if (yaml.hideLeftBar === true) this.$store.commit('setShowLeftBar', false)\n          if (yaml.hideLeftBar === false) this.$store.commit('setShowLeftBar', true)\n\n          // set margins wide if requested to do so\n          this.$store.commit('setFullWidth', !!yaml.fullWidth)\n          this.$store.commit('setDashboardWidth', '')\n          if (yaml.width !== undefined) {\n            this.$store.commit('setDashboardWidth', '' + yaml.width)\n            this.$store.commit('setFullWidth', true)\n          }\n\n          try {\n            if (yaml.css) {\n              this.customCSS = await this.fileApi.getFileText(`${yamlFolder}${yaml.css}`)\n              this.styleElement = document.createElement('style')\n              this.styleElement.appendChild(document.createTextNode(this.customCSS))\n              document.getElementsByTagName('head')[0].appendChild(this.styleElement)\n            }\n          } catch (e) {\n            // no css, oh well\n          }\n\n          this.header = await this.buildPanel('header', yaml, yamlFolder)\n          this.footer = await this.buildPanel('footer', yaml, yamlFolder)\n        } catch (e) {\n          console.error('' + e)\n        }\n      }\n    },\n\n    handleRemoveDashboard() {},\n\n    async buildPanel(which: string, yaml: any, folder: string) {\n      // first get the correct/best header for this locale\n      let header = ''\n      if (this.$store.state.locale === 'de') {\n        header = yaml[which + '_de'] || yaml[which] || yaml[which + '_en'] || ''\n      } else {\n        header = yaml[which + '_en'] || yaml[which] || yaml[which + '_de'] || ''\n      }\n\n      if (!header) return ''\n\n      // if it is a filename, load it from disk\n      if (header.indexOf('\\n') == -1 && header.endsWith('.md')) {\n        const text = await this.fileApi.getFileText(`${folder}${header}`)\n        header = text\n      }\n\n      // convert to HTML\n      const html = mdRenderer.render(header)\n\n      // sanitize it\n      const clean = DOMPurify.sanitize(html, { USE_PROFILES: { html: true } })\n\n      // use it\n      return clean\n    },\n\n    // for each dashboard, fetch the yaml, set the tab title, and config the ... switcher?\n    async initDashboard(fullPath: any) {\n      try {\n        const config = await this.fileApi.getFileText(fullPath)\n        const yaml = YAML.parse(config)\n\n        // see if trigger condition is met\n        if (yaml.header?.triggerPattern) {\n          const { files, dirs } = await this.fileApi.getDirectory(this.xsubfolder)\n          const allContents = [...files, ...dirs]\n\n          if (micromatch.match(allContents, yaml.header.triggerPattern).length === 0) {\n            // no files matched trigger; skip this dashboard\n            return false\n          }\n        }\n\n        const shortFilename = fullPath.substring(0, fullPath.lastIndexOf('.'))\n        if (!yaml.header) yaml.header = { title: fullPath, tab: shortFilename }\n        if (!yaml.header.tab) yaml.header.tab = yaml.header.title || shortFilename\n\n        this.dashboards[fullPath] = yaml\n        console.log('DASHBOARD:', fullPath)\n        return true\n      } catch (e) {\n        this.$store.commit('setStatus', { type: Status.ERROR, msg: '' + e })\n        return false\n      }\n    },\n    updateRoute() {\n      this.clearStyles()\n\n      if (this.dashboardDataManager) this.dashboardDataManager.clearCache()\n      this.dashboardDataManager = new DashboardDataManager(this.root, this.xsubfolder)\n\n      this.header = ''\n      this.footer = ''\n      this.dashboards = []\n      this.pageHeader = this.getPageHeader()\n\n      // this.generateBreadcrumbs()\n\n      // this happens async\n      this.findConfigsAndDashboards()\n    },\n\n    async switchTab(tab: string, index: number) {\n      if (tab === this.activeTab) return\n\n      // Force teardown the dashboard to ensure we start with a clean slate\n      this.activeTab = ''\n      this.dashboardTabWithDelay = ''\n      this.showFooter = false\n\n      await this.$nextTick()\n\n      this.activeTab = tab\n\n      // to give browser time to teardown\n      setTimeout(() => {\n        this.dashboardTabWithDelay = tab\n        if (index) {\n          this.$router.replace({ query: { tab: `${index + 1}` } })\n        } else {\n          this.$router.replace({ query: {} })\n        }\n      }, 125)\n    },\n\n    handleZoom(isZoomed: any) {\n      this.isZoomed = !!isZoomed\n      this.$emit('zoom', this.isZoomed)\n    },\n\n    handleLayoutComplete() {\n      this.showFooter = true\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.warn('no such project')\n        this.loadErrorMessage = `Can't locate \"${name}\": please check running services and browser version.`\n        return null\n      }\n\n      return svnProject[0]\n    },\n\n    goUpOneFolder() {\n      let target = this.xsubfolder\n      if (this.xsubfolder.endsWith('/')) target = this.xsubfolder.slice(0, length - 1)\n      target = target.substring(0, target.lastIndexOf('/'))\n\n      const props = {\n        root: this.fileSystem.slug,\n        xsubfolder: target,\n      }\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!target && !this.xsubfolder) {\n        this.onNavigate({ component: 'SplashPage', props: {} })\n      } else {\n        this.onNavigate({ component: 'TabbedDashboardView', props })\n      }\n    },\n\n    async authorizeAfterError() {\n      try {\n        const handle = this.fileSystem.handle\n        if (handle) {\n          const status = await handle.requestPermission({ mode: 'read' })\n          if (status === 'granted') this.updateRoute()\n        }\n      } catch (e) {\n        // meh\n      }\n    },\n\n    setTitle() {\n      const folder = this.xsubfolder.startsWith('/') ? this.xsubfolder.slice(1) : this.xsubfolder\n      const title = `${this.fileSystem.name}: ${folder}`\n\n      this.$emit('title', title)\n    },\n  },\n  mounted() {\n    this.updateRoute()\n\n    this.setTitle()\n  },\n  beforeDestroy() {\n    if (this.dashboardDataManager) this.dashboardDataManager.clearCache()\n    this.clearStyles()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.tabbed-folder-view {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background-color: var(--bgMapPanel);\n  flex-direction: column;\n  overflow-y: auto;\n}\n\n// .centered-vessel {\n//   // max-width: $dashboardWidth;\n//   // margin: 0 auto;\n//   // padding: 0 2rem;\n// }\n\n.centered-vessel.wiide {\n  max-width: unset;\n}\n\n.tabs {\n  margin: 0 0rem;\n}\n\n.tabs ul {\n  line-height: 0.8rem;\n  border-bottom-color: var(--bgMapPanel);\n  border-bottom-width: 5px;\n}\n\n.tabholder {\n  // max-width: $dashboardWidth + 3;\n  // margin: 0 auto;\n  z-index: 50;\n  top: 0px;\n  position: sticky;\n  background-color: var(--bgMapPanel);\n}\n\n.tabholdercontainer {\n  background-image: var(--bgDashboard);\n  // margin: 0 3rem;\n}\n\n.tabholdercontainer.wiide {\n  margin: 0 0rem;\n}\n\nli.is-not-active b a {\n  color: var(--text);\n}\n\n.breadcrumbs {\n  background-image: var(--bgTabBanner);\n  padding: 0.25rem 0 1rem 1rem;\n  color: var(--linkFancy);\n  font-size: 1.5rem;\n  text-align: center;\n\n  h3 {\n    color: white;\n    font-weight: bold;\n  }\n\n  h4 {\n    line-height: 1rem;\n    margin: 0;\n    color: #e4e4e4;\n    font-size: 1.1rem;\n  }\n\n  p {\n    max-width: $dashboardWidth;\n    margin: 0 2rem;\n  }\n}\n\n.up-link a {\n  color: var(--link);\n  border-bottom: none;\n}\n\n.up-link a:hover {\n  color: var(--linkHover);\n}\n\n.load-error {\n  margin: 3rem auto;\n  padding: 1rem 0;\n  border-radius: 5px;\n  text-align: center;\n  font-size: 1.2rem;\n  color: var(--link);\n  background-color: var(--bgPanel2);\n  max-width: 40rem;\n}\n\n.load-error:hover {\n  cursor: pointer;\n  color: var(--linkHover);\n  background-color: var(--bgPanel3);\n}\n\n.project-header {\n  margin-bottom: 1rem;\n  color: var(--text);\n  padding: 1rem 0.5rem;\n\n  :deep(h1) {\n    font-size: 3rem;\n    font-weight: bold;\n  }\n\n  :deep(h2) {\n    font-size: 1.5rem;\n    margin-top: 1rem;\n  }\n\n  :deep(h3) {\n    font-size: 1.25rem;\n    margin-top: 0.5rem;\n  }\n\n  :deep(h4) {\n    margin-top: 0.5rem;\n    font-size: 1.1rem;\n  }\n\n  :deep(ul) {\n    list-style: inside;\n  }\n}\n\n.project-header.wiide {\n  padding: 1rem 2rem;\n}\n\n.project-footer {\n  margin: 3rem 0rem 1rem 0rem;\n  padding: 1rem 1rem;\n  color: var(--text);\n  border-top: 2px solid #88888815;\n  :deep(h1) {\n    font-size: 2rem;\n    font-weight: bold;\n  }\n\n  :deep(h2) {\n    font-size: 1.5rem;\n    margin-top: 1rem;\n  }\n\n  :deep(h3) {\n    font-size: 1.25rem;\n    margin-top: 0.5rem;\n  }\n\n  :deep(h4) {\n    margin-top: 0.5rem;\n    font-size: 1.1rem;\n  }\n\n  :deep(ul) {\n    list-style: inside;\n  }\n}\n\n.project-footer.wiide {\n  margin: 3rem 0rem 1rem 0rem;\n  padding: 1rem 2rem;\n  border-top: none;\n  background-color: #88888815;\n  color: var(--text);\n}\n\n.folder-readme {\n  margin-top: 0.5rem;\n}\n\n.folder-readme.readme-centered {\n  text-align: center;\n}\n\n@media only screen and (max-width: 50em) {\n  .tabholdercontainer {\n    margin: 0 1rem;\n  }\n}\n</style>\n","<template lang=\"pug\">\n.svn-projects\n  .project(v-for=\"source in sources\" :key=\"source.url\"\n      @click='openProjectPage(source)'\n      @click.middle='openProjectTab(source)'\n      @click.meta='openProjectTab(source)'\n      @click.ctrl='openProjectTab(source)'\n      )\n      .desc\n        h3 {{ source.name }}\n        p {{ source.description }}\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\nimport { FileSystemConfig } from '@/Globals'\n\nexport default defineComponent({\n  name: 'FileSystemComponents',\n  data: () => {\n    return {\n      sources: [] as FileSystemConfig[],\n    }\n  },\n  mounted() {\n    this.sources = globalStore.state.svnProjects.filter(\n      source => !source.hidden && !source.slug.startsWith('fs')\n    )\n  },\n  methods: {\n    openProjectPage(source: FileSystemConfig) {\n      const destination: any = Object.assign({}, source)\n\n      destination.component = 'TabbedDashboardView'\n      destination.props = {\n        root: source.slug,\n        xsubfolder: '',\n      }\n      this.$emit('navigate', destination)\n    },\n\n    openProjectTab(source: any) {\n      window.open(source, '_blank')\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.svn-projects {\n  display: grid;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n  gap: 2rem;\n}\n\n.project {\n  flex: 1;\n  cursor: pointer;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bgBold);\n  border-radius: 16px;\n  border: 1px solid var(--bgPanel3);\n}\n\n.desc h3 {\n  color: var(--text);\n  margin-bottom: 0.25rem;\n}\n\n.desc p {\n  font-size: 0.9rem;\n}\n\n.project .desc {\n  padding: 1rem 1rem;\n}\n\n.project:hover {\n  // background-color: var(--bgHover);\n  box-shadow: var(--shadowMode);\n}\n\n@media only screen and (max-width: 64em) {\n  .svn-projects {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n\n@media only screen and (max-width: 40em) {\n  .svn-projects {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .project {\n    margin-bottom: 1rem;\n  }\n}\n</style>\n","<template lang=\"pug\">\n.splash-page\n  .scrolly\n    .thing-area\n      .top-area\n        .simwrapper-logo\n          img(v-if=\"state.isDarkMode\" src=\"@/assets/simwrapper-logo/SW_logo_yellow.png\")\n          img(v-else src=\"@/assets/simwrapper-logo/SW_logo_purple.png\")\n\n        //- h2.splash-readme(style=\"text-align: center; margin: -0.5rem auto 0 auto\" v-html=\"$t('tagLine')\")\n\n        //- h2: b {{ $t('more-info') }}\n        //- info-bottom.splash-readme\n\n      .middle-area\n        .is-chrome(v-if=\"isChrome\")\n          h3 Local Folders\n\n          p(v-if=\"!localFileHandles.length\") Chrome &amp; Edge can browse folders directly:\n\n          .roots\n            .project-root.local(v-for=\"row in localFileHandles\" :key=\"row.key\"\n              @click=\"clickedBrowseChromeLocalFolder(row)\")\n\n              h5.remove-local(style=\"flex: 1;\") {{ row.handle.name}}\n                i.fa.fa-times(@click.stop=\"clickedDelete(row)\")\n              p Local folder\n\n          p.config-sources: a(@click=\"showChromeDirectory\") Add local folder...\n\n        h3(style=\"margin-top: 1rem\") Browse Data Sources\n\n        .roots\n          .project-root(v-for=\"project in allRoots\" :key=\"project.slug\"\n            @click=\"clickedOnFolder({root: project.slug})\"\n          )\n            h5 {{ project.name }}\n            p {{ project.description }}\n\n        p.config-sources: a(@click=\"configureSources\") Edit data sources...\n\n\n        p.funding Funded by TU Berlin, the German Bundesministerium für Bildung und Forschung, and the ActivitySim Consortium member agencies.\n\n        .legal\n          p SimWrapper is open source and available on&nbsp;\n            a(href=\"https://github.com/simwrapper/simwrapper\") GitHub.\n\n        .legal\n          p\n              a(href=\"https://vsp.berlin/en/\" target=\"_blank\") VSP&nbsp;TU&nbsp;Berlin\n              a(href=\"https://vsp.berlin/impressum/\" target=\"_blank\") Impressum\n              a(href=\"https://www.vsp.tu-berlin.de/menue/service/privacy/parameter/en/\" target=\"_blank\") Privacy\n\n    .links-and-logos\n      .logos\n        a(v-for=\"logo in allLogos\"\n          :href=\"logo.url\"\n          :title=\"logo.name\"\n          target=\"_blank\"\n        )\n          img.img-logo(:src=\"logo.image\")\n\n\n</template>\n\n<script lang=\"ts\">\n// Typescript doesn't know the Chrome File System API\ndeclare const window: any\n\nconst i18n = {\n  messages: {\n    en: {\n      'more-info': 'Documentation:',\n      tagLine: 'the simulation browser and data visualizer from TU&nbsp;Berlin.',\n      privacy:\n        'SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.\\n\\nSimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.',\n    },\n    de: {\n      'more-info': 'Für weitere Informationen:',\n      tagLine: 'Der Modellergebnis-Browser der TU Berlin.',\n    },\n  },\n}\n\nimport { defineComponent } from 'vue'\nimport { get, set, clear } from 'idb-keyval'\n\nimport globalStore from '@/store'\nimport FileSystemProjects from '@/components/FileSystemProjects.vue'\nimport InfoBottom from '@/assets/info-bottom.md'\nimport { FileSystemConfig } from '@/Globals'\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\n\nconst BASE_URL = import.meta.env.BASE_URL\n\nconst logos = [\n  { url: 'https://vsp.berlin/en/', image: 'vsp-logo-300dpi.png', name: 'VSP TU-Berlin' },\n  { url: 'https://matsim.org/', image: 'matsim-logo-blue.png', name: 'MATSim' },\n  { url: 'https://tu.berlin', image: 'tu-logo.png', name: 'TU Berlin' },\n  { url: 'https://bmbf.de', image: 'bmbf-logo.png', name: 'German Federal BMBF' },\n  { url: 'https://www.sfcta.org/', image: 'sfcta.png', name: 'SFCTA' },\n  { url: 'https://metrocouncil.org/', image: 'metcouncil.png', name: 'Met Council' },\n  { url: 'http://www.sandag.org/', image: 'sandag.jpg', name: 'SANDAG' },\n  { url: 'https://mtc.ca.gov/', image: 'mtc.png', name: 'MTC' },\n  { url: 'https://www.psrc.org/', image: 'psrc.png', name: 'Puget Sound Regional Council' },\n  { url: 'https://www.mwcog.org/', image: 'mwcog.png', name: 'MWCOG' },\n  { url: 'https://www.oregon.gov/ODOT', image: 'oregondot.png', name: 'Oregon DOT' },\n  { url: 'https://atlantaregional.org/', image: 'arc.png', name: 'ARC' },\n  { url: 'https://www.transportation.ohio.gov/', image: 'ohiodot.png', name: 'Ohio DOT' },\n  { url: 'http://semcog.org/', image: 'semcog.jpg', name: 'SEMCOG' },\n]\n\nexport default defineComponent({\n  name: 'SplashPage',\n  i18n,\n  components: { FileSystemProjects, InfoBottom },\n  data: () => {\n    return {\n      state: globalStore.state,\n      allRoots: [] as FileSystemConfig[],\n    }\n  },\n  computed: {\n    allLogos(): any[] {\n      return logos.map(p => {\n        return { url: p.url, image: `${BASE_URL}images/logos/${p.image}` }\n      })\n    },\n\n    isChrome() {\n      return !!window.showDirectoryPicker\n    },\n\n    localFileHandles(): any[] {\n      // sort a copy of the array so we don't get an infinite loop\n      return this.$store.state.localFileHandles\n        .concat()\n        .sort((a: any, b: any) =>\n          parseInt(a.key.substring(2)) < parseInt(b.key.substring(2)) ? -1 : 1\n        )\n    },\n  },\n  methods: {\n    onNavigate(event: any) {\n      // pass it on up\n      this.$emit('navigate', event)\n    },\n\n    updateShortcuts() {\n      const roots = this.state.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    configureSources() {\n      this.$emit('activate', { name: 'Settings', class: 'SettingsPanel' })\n    },\n\n    clickedOnFolder(props: { folder: string; i: number; root: string }) {\n      const { folder, root, i } = props\n\n      let destination = `${root}`\n      if (folder) destination += `/${folder}`\n\n      this.$router.push(destination)\n    },\n\n    async clickedBrowseChromeLocalFolder(row: { key: string; handle: any }) {\n      try {\n        const status = await row.handle.requestPermission({ mode: 'read' })\n        console.log(row.handle, status)\n\n        if (status !== 'granted') return\n\n        // if first time, add its key to the fileSystemConfig\n        const exists = fileSystems.find(f => f.slug == row.key)\n        if (!exists) addLocalFilesystem(row.handle, row.key)\n\n        const props = { root: row.key } as any\n        this.clickedOnFolder(props)\n      } catch (e) {\n        console.error('' + e)\n      }\n    },\n\n    async showChromeDirectory() {\n      try {\n        const FileSystemDirectoryHandle = window.showDirectoryPicker()\n        const dir = await FileSystemDirectoryHandle\n        const slug = addLocalFilesystem(dir, null) // no key yet\n        this.$router.push(`${BASE_URL}${slug}/`)\n      } catch (e) {\n        // shrug\n      }\n    },\n\n    async clickedDelete(row: { key: string; handle: any }) {\n      const handles = this.$store.state.localFileHandles\n      // just filter out the key I guess?\n      const filtered = handles.filter((f: any) => f.key !== row.key)\n\n      // and save it everywhere\n      await set('fs', filtered)\n      this.$store.commit('setLocalFileSystem', filtered)\n    },\n  },\n  mounted() {\n    // set initial breadcrumbs if we don't have any yet\n    if (!this.state.breadcrumbs.length) {\n      const crumbs = [{ label: 'SimWrapper', url: '/' }]\n      globalStore.commit('setBreadCrumbs', crumbs)\n    }\n\n    // always start with nav bar when loading splashpage\n    // globalStore.commit('setShowLeftBar', true)\n\n    this.updateShortcuts()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.splash-page {\n  background-color: var(--bgSplash);\n}\n\n.scrolly {\n  background-color: white;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: grid;\n  grid-template-columns: 1fr auto;\n  overflow-y: auto;\n}\n\n.thing-area {\n  background-color: var(--bgSplash);\n  flex: 1;\n}\n\n.top-area {\n  margin: 2rem 3rem;\n}\n\n.middle-area {\n  padding: 1.5rem 3rem 1rem 3rem;\n  font-size: 0.9rem;\n  color: var(--textFancy);\n}\n\na {\n  color: #00499c;\n}\n\n.splash-readme {\n  color: var(--textFancy);\n}\n\n.simwrapper-logo {\n  max-width: 275px;\n  // margin: 0 auto;\n}\n\n.logos {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fill, 6.5rem);\n  padding: 1rem 0rem;\n  margin: 0 auto;\n  a {\n    margin-top: auto;\n  }\n}\n\n.links-and-logos {\n  padding: 0.5rem 0;\n  width: 9rem;\n  display: flex;\n  flex-direction: column;\n  color: #227;\n  background-color: #fff;\n}\n\n.words {\n  line-height: 1.2rem;\n  display: flex;\n  flex-direction: column;\n  margin: auto 0;\n  padding: 0 5rem;\n  text-align: center;\n  font-size: 1rem;\n}\n\n.words a {\n  color: var(--link);\n}\n\nhr {\n  height: 1px;\n  background-color: var(--bgBrowser);\n  margin: 0.75rem 0;\n}\n\nh2.splash-readme {\n  padding: 1rem 1rem 0 1rem;\n  font-size: 1.5rem;\n  font-weight: normal;\n  line-height: 1.8rem;\n}\n\n.funding {\n  font-size: 0.9rem;\n  margin: 3rem 0 0.5rem 0;\n}\n\n.legal {\n  // padding: 0rem 2rem 0rem 2rem;\n  display: flex;\n  p {\n    margin: 0rem 0 0 0;\n    font-size: 0.9rem;\n  }\n  a {\n    margin-right: 0.75rem;\n    color: var(--link);\n  }\n  a:hover {\n    color: var(--linkHover);\n  }\n}\n\n.img-logo {\n  margin-bottom: auto;\n}\n\n.project-root {\n  display: flex;\n  flex-direction: column;\n  margin-top: 0.75rem;\n  padding: 0.5rem 0.5rem;\n  background-color: var(--bgMapPanel);\n  border-left: 3px solid var(--sliderThumb);\n  border-right: 1px solid #8888aa00;\n  border-top: 1px solid #8888aa00;\n  border-bottom: 1px solid #8888aa00;\n\n  h5 {\n    font-size: 1rem;\n    line-height: 1rem;\n    font-weight: bold;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    line-height: 1.1rem;\n  }\n}\n\n.project-root.local {\n  border-left: 3px solid $matsimBlue;\n}\n\n.project-root:hover {\n  cursor: pointer;\n  background-color: var(--bgHover);\n  transition: background-color 0.1s ease-in-out;\n  border-right: 1px solid #66666640;\n  border-top: 1px solid #66666640;\n  border-bottom: 1px solid #66666640;\n}\n\n.fa-times {\n  opacity: 0;\n  float: right;\n  padding: 1px 1px;\n}\n\n.fa-times:hover {\n  color: red;\n}\n\n.fa-times:active {\n  color: darkred;\n}\n\n.project-root:hover .fa-times {\n  opacity: 0.15;\n}\n\n.project-root:hover .fa-times:hover {\n  opacity: 1;\n}\n\n.config-sources {\n  margin-top: 0.5rem;\n  // text-align: right;\n  a {\n    color: var(--link);\n  }\n}\n\n.config-sources a:hover {\n  cursor: pointer;\n  color: var(--linkHover);\n}\n\n.roots {\n  display: grid;\n  gap: 0rem 0.5rem;\n  grid-template-columns: repeat(auto-fit, 18rem);\n  list-style: none;\n}\n\n@media only screen and (max-width: 800px) {\n}\n</style>\n","export default \"__VITE_ASSET__fad72c60__\"","export default \"__VITE_ASSET__9da991fc__\"","export default \"__VITE_ASSET__928fa6b5__\"","export default \"__VITE_ASSET__979e924f__\"","export default \"__VITE_ASSET__862cee4c__\"","export default \"__VITE_ASSET__9d7275c6__\"","<template lang=\"pug\">\n.left-nav-panel\n  .top\n    button.item(v-for=\"section in topSections\" :key=\"section.name\"\n      :style=\"buttonStyle(section)\"\n      @click=\"select(section)\"\n    )\n      img.svg-icon(\n        :src=\"section.icon\"\n        :draggable=\"false\"\n        :style=\"{filter: section.colorize ? issueColor : 'invert(100%)'}\"\n      )\n      p {{ section.name }}\n\n  .bottom\n    button.item(v-for=\"section in bottomSections\" :key=\"section.name\"\n      :style=\"buttonStyle(section)\"\n      @click=\"select(section)\"\n    )\n      img.svg-icon(\n        :src=\"section.icon\"\n        :draggable=\"false\"\n        :style=\"{filter: section.colorize ? issueColor : 'invert(100%)'}\"\n      )\n      p {{ section.name }}\n\n  //- .hide\n  //-   b-button.button(size=\"is-small\" expanded) <<\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport ICON_FILES from '@/assets/icons/files.svg'\nimport ICON_ISSUES from '@/assets/icons/issues.svg'\nimport ICON_INFO from '@/assets/icons/settings.svg'\nimport ICON_DOCS from '@/assets/icons/readme.svg'\n\nimport globalStore from '@/store'\n\nconst DOCS_URL = 'https://simwrapper.github.io/docs'\n\nexport interface Section {\n  name: string\n  class: string\n  icon?: string\n  colorize?: boolean\n  link?: string\n  onlyIfVisible?: boolean\n}\n\nexport default defineComponent({\n  name: 'LeftIconPanel',\n  props: {\n    activeSection: { type: String, required: true },\n  },\n  data: () => {\n    return {\n      state: globalStore.state,\n      topSections: [\n        { name: 'Files', class: 'BrowserPanel', icon: ICON_FILES },\n        { name: 'Issues', class: 'ErrorPanel', icon: ICON_ISSUES, colorize: true },\n        // { name: 'Search', class: 'RunFinderPanel', icon: ICON_ARROW },\n        // { name: 'Gallery', class: 'RunFinderPanel', icon: ICON_ARROW },\n      ] as Section[],\n      bottomSections: [\n        { name: 'Docs', link: DOCS_URL, icon: ICON_DOCS },\n        { name: 'Settings', class: 'SettingsPanel', icon: ICON_INFO },\n      ] as Section[],\n    }\n  },\n  computed: {\n    issueColor() {\n      // red\n      if (this.state.statusErrors.length)\n        return 'invert(60%) sepia(100%) hue-rotate(310deg) saturate(8.5)'\n      // yellow\n      if (this.state.statusWarnings.length)\n        return 'invert(75%) sepia(100%) hue-rotate(15deg) saturate(5.5)'\n      // white\n      return 'invert(100%)'\n    },\n  },\n  methods: {\n    select(section: Section) {\n      this.$emit('activate', section)\n    },\n\n    buttonStyle(section: any) {\n      const colorizedOpacity =\n        this.state.statusErrors.length || this.state.statusWarnings.length ? 0.8 : 0.4\n\n      if (this.activeSection !== section.name) {\n        return { opacity: section.colorize ? colorizedOpacity : 0.4 }\n      }\n\n      return {\n        opacity: 1.0,\n        borderLeft: '3px solid white',\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.left-nav-panel {\n  background-color: #313135;\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n}\n\n.top {\n  margin-bottom: auto;\n  display: flex;\n  flex-direction: column;\n  padding-top: 4px;\n}\n\n.bottom {\n  display: flex;\n  flex-direction: column;\n}\n\n.item {\n  width: 60px;\n  text-align: center;\n  margin-bottom: 16px;\n  border-left: 3px solid #00000000;\n  border-right: 3px solid #00000000;\n  opacity: 0.4;\n}\n\np {\n  margin-top: -6px;\n  font-size: 11px;\n  color: #c6c1b9;\n}\n\n.item img {\n  margin: 5px 4px;\n  width: 26px;\n}\n\n.item:hover {\n  cursor: pointer;\n  opacity: 1;\n}\n\n.button {\n  background-color: #444;\n  border: none;\n  color: #ccc;\n  height: 20px;\n}\n\n.button:hover,\n.button:active {\n  background-color: #555;\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n  .top-panel\n    h4(:style=\"headerTextColor\") Issues\n\n    .warnings\n      .no-error(v-if=\"!state.statusErrors.length && !state.statusWarnings.length\")\n        p.check ☑️\n        p No issues for this page.\n\n      .message-area(v-else)\n        h3(v-if=\"state.statusErrors.length\") Errors: {{state.statusErrors.length}}\n        .single-message(v-for=\"err,i in state.statusErrors\")\n          p(v-html=\"cleanError(err.msg)\" @click=\"toggleShowDescription(i, true)\")\n          .description(v-if=\"descriptionIndexListError.includes(i)\")\n            p(v-html=\"err.desc\")\n        h3(v-if=\"state.statusWarnings.length\") Warnings: {{state.statusWarnings.length}}\n        .single-message(v-for=\"err,i in state.statusWarnings\")\n          p(v-html=\"err.msg\" @click=\"toggleShowDescription(i, false)\")\n          .description(v-if=\"descriptionIndexListWarning.includes(i)\")\n            p(v-html=\"err.desc\")\n\n\n  .bottom-panel\n    b-button.clear-button(\n      v-if=\"state.statusErrors.length || state.statusWarnings.length\"\n      expanded\n      @click=\"clearAllButtons()\"\n    ) Clear all messages\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { sync: 'Sync folders', theme: 'Light/Dark', lang: 'EN/DE', split: 'Split view' },\n    de: { sync: 'Sync', theme: 'Hell/Dunkel', lang: 'DE/EN', split: 'Aufteilen' },\n  },\n}\n\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\n\nexport default defineComponent({\n  name: 'ErrorPanel',\n  i18n,\n  data: () => {\n    return {\n      state: globalStore.state,\n      showDescription: false,\n      descriptionIndexListWarning: [] as number[],\n      descriptionIndexListError: [] as number[],\n      isError: false,\n    }\n  },\n  watch: {\n    '$route.path'() {\n      this.clearAllButtons()\n    },\n  },\n  computed: {\n    headerTextColor() {\n      let color = {}\n      if (this.state.statusWarnings.length) color = { color: '#fe8' }\n      if (this.state.statusErrors.length) color = { color: '#f66' }\n      return color\n    },\n  },\n  methods: {\n    cleanError(message: string) {\n      if (!message) return ''\n\n      if (message.startsWith('Error: ')) return message.slice(7)\n      return message\n    },\n\n    clearAllButtons() {\n      this.$store.commit('clearAllErrors')\n\n      // if error panel is actually open and visible, switch to file panel\n      this.$emit('activate', { name: 'Files', class: 'BrowserPanel', onlyIfVisible: true })\n    },\n\n    toggleShowDescription(i: number, isError: boolean) {\n      this.isError = isError\n      if (isError) {\n        if (this.descriptionIndexListError.includes(i)) {\n          var index = this.descriptionIndexListError.indexOf(i)\n          this.descriptionIndexListError.splice(index, 1)\n        } else {\n          this.descriptionIndexListError.push(i)\n        }\n      } else {\n        if (this.descriptionIndexListWarning.includes(i)) {\n          var index = this.descriptionIndexListWarning.indexOf(i)\n          this.descriptionIndexListWarning.splice(index, 1)\n        } else {\n          this.descriptionIndexListWarning.push(i)\n        }\n      }\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.panel {\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 0.25rem 0;\n  color: var(--text);\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n  color: #ddd;\n}\n\n.top-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  margin: 0.25rem 0.5rem 0.5rem 0.5rem;\n}\n\n.bottom-panel {\n  margin-top: auto;\n  padding: 0 0.5rem 0.25rem 0.5rem;\n}\n\na {\n  font-size: 1.1rem;\n}\n\n.top {\n  margin-top: 1rem;\n}\n\n.commands {\n  display: flex;\n  flex-direction: row;\n  // margin-right: -0.5rem;\n}\n\n.commands .button {\n  flex: 1;\n  color: #a19ebb;\n  margin-right: 0.25rem;\n  padding: 0 0;\n}\n\n.commands .button:hover {\n  color: var(--link);\n}\n\n.warnings {\n  display: flex;\n  flex-direction: column;\n  padding: 0rem 0rem;\n  margin: 0 0 0 0.25rem;\n  text-align: left;\n  font-size: 0.9rem;\n}\n\n.message-area {\n  text-indent: -20px;\n  margin-left: 20px;\n}\n\n.message-area h3 {\n  margin-top: 1rem;\n  font-size: 1.2rem;\n}\n\n.single-message {\n  list-style-position: outside;\n  cursor: pointer;\n}\n\n.description {\n  width: 100%;\n  height: min-content;\n  background-color: rgb(95, 123, 167);\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: 0 0.25rem;\n  text-indent: 0;\n  margin-left: 0px;\n  color: white;\n}\n\n.no-error p {\n  user-select: none;\n  text-align: center;\n}\n\n.check {\n  margin-top: 2rem;\n  margin-bottom: 0.5rem;\n  font-size: 2rem;\n}\n\n::-webkit-scrollbar-corner {\n  background: rgba(0, 0, 0, 0);\n}\n\np {\n  padding-bottom: 0.5rem;\n  line-height: 1.1rem;\n  list-style-type: square;\n  word-wrap: break-word;\n}\n\n@media only screen and (max-width: 640px) {\n}\n</style>\n","<template lang=\"pug\">\n.add-data\n  .add\n    .markdown(v-html=\"notes\")\n    .flex-row\n      p.flex1: b Label\n      b-input.flex5(size=\"is-small\" placeholder=\"e.g. server1\" maxlength=\"32\" v-model=\"labelField\")\n    .flex-row\n      p.flex1: b URL\n      b-input.flex5(size=\"is-small\" placeholder=\"http://localhost:8001\" maxlength=\"512\" v-model=\"urlField\")\n    .flex-row\n      p.flex1: b Note\n      b-input.flex5(size=\"is-small\" placeholder=\"optional\" maxlength=\"255\" v-model=\"noteField\")\n    .flex-row\n      p.flex1 &nbsp;\n      b-button.is-primary(\n        size=\"is-small\"\n        :disabled=\"!isValidURL\"\n        :type=\"isValidURL ? '' : 'is-outlined'\"\n        @click=\"addURL\"\n      ) Add Data URL\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport MarkdownIt from 'markdown-it'\n\nimport globalStore from '@/store'\n\nconst mdAddNotes = `\nAdd a local shortcut for any URL-based resource.\nSimWrapper requires several server settings, including:\n\n- Open access (no login)\n- File and directory listings\n-  CORS \"Access-Control-Allow-Origin\"\n`\n\nexport default defineComponent({\n  name: 'AddDataSource',\n  props: {},\n  data: () => {\n    return {\n      labelField: '',\n      urlField: '',\n      noteField: '',\n      notes: '',\n      mdParser: new MarkdownIt(),\n    }\n  },\n  mounted() {\n    this.notes = this.mdParser.render(mdAddNotes)\n  },\n  watch: {\n    labelField() {\n      this.fixField()\n    },\n  },\n  computed: {\n    isValidURL() {\n      if (!this.labelField) return false\n      if (!this.urlField) return false\n      if (!this.urlField.startsWith('http')) return false\n      return true\n    },\n  },\n  methods: {\n    addURL() {\n      this.fixField()\n      console.log('Adding', this.labelField, this.urlField)\n\n      const KEY = 'projectShortcuts'\n      try {\n        let existingRoot = localStorage.getItem(KEY) || ('{}' as any)\n\n        let roots = JSON.parse(existingRoot)\n\n        roots[this.labelField] = {\n          name: `${this.labelField}`,\n          slug: `${this.labelField}`,\n          description: this.noteField,\n          baseURL: this.urlField,\n        }\n\n        console.log('NEW ROOTS', roots)\n        localStorage.setItem(KEY, JSON.stringify(roots))\n        globalStore.commit('setURLShortcuts', roots)\n      } catch (e) {\n        // you failed\n        console.error('' + e)\n      }\n    },\n\n    fixField() {\n      this.labelField = this.labelField.toLowerCase().replaceAll(/[^a-z\\-0-9@]*/g, '')\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.add {\n  gap: 0.25rem;\n  margin: 0.5rem 0.25rem 0rem 0;\n  color: var(--text);\n\n  b-field {\n    color: white;\n  }\n}\n\n.flex-row {\n  width: 100%;\n  margin-bottom: 4px;\n}\n.flex1 {\n  text-align: right;\n  margin: auto 0.5rem;\n}\n\n.markdown {\n  margin-bottom: 1rem;\n  line-height: 1.3rem;\n}\n\nb-button {\n  text-align: right;\n}\n\n@media only screen and (max-width: 640px) {\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n  .top-panel\n    h4 Files\n\n    .trail(v-if=\"root\")\n      .x-home\n        p(@click=\"clickedBreadcrumb({url: '//'})\")\n          i.fa.fa-home\n\n      .x-breadcrumbs(v-if=\"root\")\n        p(v-for=\"crumb,i in globalState.breadcrumbs.slice(1)\" :key=\"crumb.url\"\n          @click=\"clickedBreadcrumb(crumb)\"\n        ) &nbsp;/&nbsp;{{ crumb.label }}\n\n  .middle-panel\n      //- Starting point if not in a project root: list all existing roots\n      .curated-sections(v-if=\"!root\")\n\n        .hint-clicks(style=\"margin-bottom: 1rem; opacity: 1\")\n          p You can browse to another folder from here. Drag panels into the main window area to open them side-by-side.\n\n        .is-chrome(v-if=\"isChrome\")\n          h3 Local Folders\n\n          p(v-if=\"!localFileHandles.length\") Chrome & Edge can browse folders directly:\n          .project-root.local(v-for=\"row in localFileHandles\" :key=\"row.key\"\n            @click=\"clickedBrowseChromeLocalFolder(row)\")\n\n            h5.remove-local(style=\"flex: 1;\") {{ row.handle.name}}\n              i.fa.fa-times(@click.stop=\"clickedDelete(row)\")\n            p Local folder\n\n          p.config-sources: a(@click=\"showChromeDirectory\") Add local folder...\n\n        h3(style=\"margin-top: 1rem\") Data Sources\n\n        .project-root(v-for=\"project in allRoots\" :key=\"project.slug\"\n          @click=\"clickedOnFolder({root: project.slug})\"\n        )\n          h5 {{ project.name }}\n          p {{ project.description }}\n\n        p.config-sources: a(@click=\"configureSources\") Edit data sources...\n\n      //- Starting point if in a project folder: -------------------------\n      .curated-sections(v-else)\n\n        h3.curate-heading {{ globalState.breadcrumbs[globalState.breadcrumbs.length - 1].label }}\n\n        .curate-content(v-if=\"myState.folders.length\")\n          .folder-table\n            .folder(v-for=\"folder,i in myState.folders\" :key=\"folder\"\n                :class=\"{fade: myState.isLoading, upfolder: i == 0}\"\n                @click=\"clickedOnFolder({folder, i})\")\n              i.fa(:class=\"i == 0 ? 'fa-arrow-up' : 'fa-folder-open'\")\n              p {{ cleanName(folder) }}\n\n          p(v-if=\"myState.folders.length==1\" style=\"font-size: 0.9rem; opacity: 0.7; margin: 0.5rem 0; text-align: right\") No subfolders.\n\n        //- MAPS: thumbnails of each viz map here\n        .section-maps(v-if=\"vizMaps.size\")\n\n          h3.curate-heading {{ $t('Maps')}}\n          .curate-content\n            .viz-table\n              .viz-grid-item(\n                v-for=\"[index, viz] of vizMaps.entries()\" :key=\"index\"\n                @click=\"clickedVisualization(index)\"\n              )\n                .viz-frame(\n                  :class=\"{highlighted: index === highlightedViz }\"\n                  draggable\n                  @dragstart=\"dragStart($event, viz)\"\n                  @dragend=\"dragEnd\"\n                )\n                  p.v-title: b {{ viz.title }}\n                  p.v-filename {{ viz.config }}\n                  p.v-plugin(:style=\"getTabColor(viz.component)\") {{ viz.component || 'dashboard' }}\n\n                  component.viz-frame-component(\n                        v-show=\"false\"\n                        :is=\"viz.component\"\n                        :root=\"myState.svnProject.slug\"\n                        :subfolder=\"myState.subfolder\"\n                        :yamlConfig=\"viz.config\"\n                        :thumbnail=\"true\"\n                        :fileApi=\"myState.svnRoot\"\n                        :style=\"{'pointer-events': 'none'}\"\n                        @title=\"updateTitle(index, $event)\")\n\n            .hint-clicks(:style=\"{opacity : needDoubleClickHint ? 1 : 0}\")\n              p\n                b Drag\n                | &nbsp;or&nbsp;\n                b double-click\n                | &nbsp;a tile\n                br\n                | to open it in the main panel\n\n        //- IMAGES here\n        .section-images(v-if=\"Object.keys(vizImages).length\")\n          h3.curate-heading {{ $t('Images')}}\n          .curate-content\n            .viz-image-table\n              .viz-image-grid-item(v-for=\"[index, viz] of Object.entries(vizImages)\" :key=\"index\"\n                        @click=\"clickedVisualization(index)\")\n\n                .viz-image-frame\n                  component.viz-image-frame-component(\n                        :is=\"viz.component\"\n                        :root=\"myState.svnProject.slug\"\n                        :subfolder=\"myState.subfolder\"\n                        :yamlConfig=\"viz.config\"\n                        :thumbnail=\"true\"\n                        :fileApi=\"myState.svnRoot\"\n                        :style=\"{'pointer-events': 'auto'}\"\n                        @title=\"updateTitle(index, $event)\")\n                  p {{ viz.title }}\n\n\n  //- .bottom-panel(v-if=\"!root\")\n\n</template>\n\n<script lang=\"ts\">\n// Typescript doesn't know the Chrome File System API\ndeclare const window: any\nconst BASE_URL = import.meta.env.BASE_URL\nconst NO_DASHBOARDS = ['.nodashboards', 'nodashboards', 'nodashboards.txt']\n\nconst i18n = {\n  messages: {\n    en: {\n      Maps: 'Maps & Dashboards',\n      Images: 'Images',\n      Analysis: 'Analysis',\n      Files: 'Files',\n      Folders: 'Folders',\n      Topsheet: 'Table',\n      privacy:\n        'SimWrapper is a client-side app, which means there is no upstream server collecting or storing data.\\n\\nSimWrapper does not collect, handle or process any data about you while you use the site. SimWrapper does not contain any tracking devices or analytics software. No user cookies are stored or transmitted.',\n    },\n    de: {\n      Maps: 'Karten',\n      Images: 'Bilder',\n      Analysis: 'Ergebnisse',\n      Files: 'Dateien',\n      Folders: 'Ordner',\n      Topsheet: 'Tabelle',\n    },\n  },\n}\n\nconst tabColors = {\n  // blank means dashboard:\n  '': '#118860',\n  // others are kebab-case:\n  'aggregate-od': '#E98B52',\n  'vehicle-anim': '#330033',\n  'x-y-t': '#583270',\n  carriers: '#c97A2C',\n  events: '#4400ff',\n  hexagons: '#900564',\n  map: '#c94264',\n  network: '#894654',\n  sankey: '#D8A672',\n  summary: '#2EA95B',\n  transit: '#3B6FE4',\n} as any\n\ninterface VizEntry {\n  component: string\n  config: string\n  title: string\n}\n\ninterface IMyState {\n  errorStatus: string\n  folders: string[]\n  files: string[]\n  isLoading: boolean\n  readme: string\n  svnProject: FileSystemConfig | null\n  svnRoot?: HTTPFileSystem\n  subfolder: string\n  summary: boolean\n  vizes: VizEntry[]\n}\n\nimport { defineComponent } from 'vue'\nimport type { PropType } from 'vue'\nimport { get, set, clear } from 'idb-keyval'\nimport markdown from 'markdown-it'\nimport mediumZoom from 'medium-zoom'\nimport micromatch from 'micromatch'\nimport yaml from 'yaml'\n\nimport globalStore from '@/store'\nimport { BreadCrumb, FileSystemConfig, YamlConfigs } from '@/Globals'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\n\nimport TopsheetsFinder from '@/components/TopsheetsFinder/TopsheetsFinder.vue'\nimport FileSystemProjects from '@/components/FileSystemProjects.vue'\nimport AddDataSource from './AddDataSource.vue'\n\nconst components = Object.assign(\n  { AddDataSource, FileSystemProjects, TopsheetsFinder },\n  pluginComponents\n)\n\nexport default defineComponent({\n  name: 'BrowserPanel',\n  i18n,\n  components,\n  data: () => {\n    return {\n      globalState: globalStore.state,\n      subfolder: '/',\n      root: '',\n      summaryYamlFilename: 'viz-summary.yml',\n      highlightedViz: -2, // -2:none, -1: dashboard, 0-x: tile\n      needDoubleClickHint: false,\n      allConfigFiles: { dashboards: {}, topsheets: {}, vizes: {}, configs: {} } as YamlConfigs,\n      allRoots: [] as FileSystemConfig[],\n      mdRenderer: new markdown({ html: true, linkify: true, typographer: true }),\n      myState: {\n        errorStatus: '',\n        folders: [],\n        files: [],\n        isLoading: false,\n        readme: '',\n        svnProject: null,\n        svnRoot: undefined,\n        subfolder: '',\n        vizes: [],\n        summary: false,\n      } as IMyState,\n      // we have really weird double-clicks; we want the single click to pass thru\n      // after a long delay. so this is how we do it\n      clicks: 0,\n      clickTimer: {} as any,\n    }\n  },\n  mounted() {\n    this.setupHints()\n    this.updateShortcuts()\n    this.getRootAndRoute(this.$route.params.pathMatch)\n  },\n\n  watch: {\n    'globalState.svnProjects'() {\n      this.updateShortcuts()\n    },\n    'globalState.colorScheme'() {\n      // medium-zoom freaks out if color theme is swapped.\n      // so let's reload images just in case.\n      this.fetchFolderContents()\n    },\n    subfolder() {\n      this.updateRoute()\n    },\n    'globalState.authAttempts'() {\n      this.authenticationChanged()\n    },\n    'myState.files'() {\n      this.filesChanged()\n    },\n  },\n  computed: {\n    hasDashboards(): boolean {\n      return !!Object.keys(this.allConfigFiles.dashboards).length\n      // const d = /^dashboard.*ml/\n      // for (const viz of this.myState.files) {\n      //   if (d.test(viz)) return true\n      // }\n      // return false\n    },\n\n    vizImages() {\n      const images: { [index: number]: any } = {}\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (this.myState.vizes[i].component === 'image-view') {\n          images[i] = this.myState.vizes[i]\n        }\n      }\n      return images\n    },\n\n    vizMaps() {\n      const skipList = ['image-view', 'dashboard']\n      const maps = new Map()\n\n      // Dashboards first\n      if (this.hasDashboards) {\n        maps.set(-1, {\n          component: '',\n          title: 'Dashboard Panel',\n        })\n      }\n\n      // Then vizes\n      for (let i = 0; i < this.myState.vizes.length; i++) {\n        if (!skipList.includes(this.myState.vizes[i].component)) {\n          maps.set(i, this.myState.vizes[i])\n        }\n      }\n\n      return maps\n    },\n    isChrome() {\n      return !!window.showDirectoryPicker\n    },\n\n    localFileHandles(): any[] {\n      // sort a copy of the array so we don't get an infinite loop\n      return this.$store.state.localFileHandles\n        .concat()\n        .sort((a: any, b: any) =>\n          parseInt(a.key.substring(2)) < parseInt(b.key.substring(2)) ? -1 : 1\n        )\n    },\n  },\n  methods: {\n    updateRoute() {\n      if (!this.root) return\n\n      const svnProject = this.getFileSystem(this.root)\n\n      this.myState.svnProject = svnProject\n      this.myState.subfolder = this.subfolder || ''\n      this.myState.readme = ''\n      this.highlightedViz = -2\n\n      if (!this.myState.svnProject) return\n\n      this.myState.svnRoot = new HTTPFileSystem(this.myState.svnProject, globalStore)\n\n      this.generateBreadcrumbs()\n\n      // this happens async\n      this.fetchFolderContents()\n    },\n\n    authenticationChanged() {\n      console.log('AUTH CHANGED - Reload')\n      this.updateRoute()\n    },\n\n    async filesChanged() {\n      // clear visualizations\n      this.myState.vizes = []\n      if (this.myState.files.length === 0) return\n\n      this.showReadme()\n\n      this.myState.summary = this.myState.files.indexOf(this.summaryYamlFilename) !== -1\n\n      if (this.myState.summary) {\n        await this.buildCuratedSummaryView()\n      } else {\n        this.buildShowEverythingView()\n      }\n\n      // make sure page is rendered before we attach zoom semantics\n      await this.$nextTick()\n      mediumZoom('.medium-zoom', {\n        background: '#444450',\n      })\n    },\n\n    updateShortcuts() {\n      const roots = this.globalState.svnProjects.filter(\n        source => !source.hidden && !source.slug.startsWith('fs')\n      )\n\n      this.allRoots = roots\n    },\n\n    cleanName(text: string) {\n      return decodeURIComponent(text)\n    },\n\n    getFileSystem(name: string) {\n      const svnProject: FileSystemConfig[] = globalStore.state.svnProjects.filter(\n        (a: FileSystemConfig) => a.slug === name\n      )\n\n      if (svnProject.length === 0) {\n        console.log('no such project')\n        throw Error\n      }\n\n      return svnProject[0]\n    },\n\n    generateBreadcrumbs() {\n      if (!this.myState.svnProject) return []\n\n      const crumbs = [\n        {\n          label: 'SimWrapper',\n          url: '/',\n        },\n        {\n          label: this.myState.svnProject.name,\n          url: '/' + this.myState.svnProject.slug,\n        },\n      ]\n\n      const subfolders = this.myState.subfolder.split('/')\n      let buildFolder = '/'\n      for (const folder of subfolders) {\n        if (!folder) continue\n\n        buildFolder += folder + '/'\n        crumbs.push({\n          label: folder,\n          url: '/' + this.myState.svnProject.slug + buildFolder,\n        })\n      }\n\n      // save them!\n      globalStore.commit('setBreadCrumbs', crumbs)\n      return crumbs\n    },\n\n    setupHints() {\n      // if user has seen the hints a few times, drop them\n      let hints: any = localStorage.getItem('needsClickHint')\n      if (hints) {\n        hints = JSON.parse(hints) as number\n      } else {\n        hints = 0\n      }\n\n      if (hints > 5000) {\n        this.needDoubleClickHint = false\n      } else {\n        hints++\n        localStorage.setItem('needsClickHint', JSON.stringify(hints))\n      }\n    },\n\n    clickedBreadcrumb(crumb: { url: string }) {\n      this.getRootAndRoute(crumb.url.slice(1)) // drop leading slash\n    },\n\n    getRootAndRoute(pathMatch: string | undefined) {\n      if (!pathMatch) {\n        // console.log('NOPE')\n        return\n      }\n\n      // splash page:\n      if (pathMatch === '/') {\n        this.root = ''\n        return\n      }\n\n      // split panel:\n      if (pathMatch.startsWith('split/')) {\n        console.log('SPLIT')\n        // ?????\n        const payload = pathMatch.substring(6)\n        try {\n          // const content = atob(payload)\n          // const json = JSON.parse(content)\n          // this.panels = json\n        } catch (e) {\n          // couldn't do; you failed!\n          this.$router.replace('/')\n        }\n        return\n      }\n\n      // split out project root and subfolder\n      // console.log(777, pathMatch, JSON.stringify(this.myState))\n      let root = pathMatch\n      let subfolder = ''\n      const slash = pathMatch.indexOf('/')\n      if (slash > -1) {\n        root = pathMatch.substring(0, slash)\n        subfolder = pathMatch.substring(slash + 1)\n      }\n      this.root = root\n      this.subfolder = subfolder\n    },\n\n    activateVisualization(vizNumber: number) {\n      // if this is not a valid viz, just open the file/dashboard browser\n      const viz = this.myState.vizes[vizNumber] || {\n        component: 'TabbedDashboardView',\n        title: 'Dashboard',\n      }\n\n      // special case: images don't click thru\n      if (viz.component === 'image-view') return\n\n      if (!this.myState.svnProject) return\n\n      this.highlightedViz = -2\n\n      const cleanSubfolder = this.myState.subfolder.replaceAll('//', '/')\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: cleanSubfolder,\n        subfolder: cleanSubfolder,\n        yamlConfig: viz.config,\n        thumbnail: false,\n      }\n\n      this.$emit('navigate', { component: viz.component, props })\n    },\n\n    updateTitle(viz: number, title: string) {\n      this.myState.vizes[viz].title = title\n    },\n\n    configureSources() {\n      this.$emit('activate', { name: 'Settings', class: 'SettingsPanel' })\n    },\n\n    getTabColor(kebabName: string) {\n      const color = tabColors[kebabName] || '#8778BB'\n      return { backgroundColor: color }\n    },\n    async showReadme() {\n      this.myState.readme = ''\n      const readme = 'readme.md'\n      if (this.myState.files.map(f => f.toLocaleLowerCase()).indexOf(readme) > -1) {\n        if (!this.myState.svnRoot) return\n        const text = await this.myState.svnRoot.getFileText(this.myState.subfolder + '/' + readme)\n        this.myState.readme = this.mdRenderer.render(text)\n      }\n    },\n\n    buildShowEverythingView() {\n      // loop on each viz type\n      for (const viz of this.globalState.visualizationTypes.values()) {\n        // filter based on file matching\n        const matches = micromatch(this.myState.files, viz.filePatterns)\n        for (const file of matches) {\n          // add thumbnail for each matching file\n          this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n        }\n      }\n    },\n\n    // Curate the view, if viz-summary.yml exists\n    async buildCuratedSummaryView() {\n      if (!this.myState.svnRoot) return\n\n      const summaryYaml = yaml.parse(\n        await this.myState.svnRoot.getFileText(\n          this.myState.subfolder + '/' + this.summaryYamlFilename\n        )\n      )\n\n      // loop on each curated viz type\n      for (const vizName of summaryYaml.plugins) {\n        // load plugin user asked for\n        const viz = this.globalState.visualizationTypes.get(vizName)\n        if (!viz) continue\n\n        // curate file list if provided for this plugin\n        if (summaryYaml[viz.kebabName]) {\n          for (const pattern of summaryYaml[viz.kebabName]) {\n            // add thumbnail for each matching file\n            const matches = await this.findMatchingFiles(pattern)\n            for (const file of matches) {\n              this.myState.vizes.push({ component: viz.kebabName, config: file, title: file })\n            }\n          }\n        } else {\n          // filter based on file matching\n          const matches = micromatch(this.myState.files, viz.filePatterns)\n          for (const file of matches) {\n            // add thumbnail for each matching file\n            this.myState.vizes.push({ component: viz.kebabName, config: file, title: '..' })\n          }\n        }\n      }\n    },\n\n    async findMatchingFiles(glob: string): Promise<string[]> {\n      // first see if file itself is in this folder\n      if (this.myState.files.indexOf(glob) > -1) return [glob]\n\n      // return globs in this folder\n      const matches = micromatch(this.myState.files, glob)\n      if (matches.length) return matches\n\n      // search subfolder for glob, for now just one subfolder down\n      if (!this.myState.svnRoot) return []\n      try {\n        const split = glob.split('/')\n        const subsubfolder = this.myState.subfolder + '/' + split[0]\n        console.log(subsubfolder)\n        const contents = await this.myState.svnRoot.getDirectory(subsubfolder)\n        const matches = micromatch(contents.files, split[1])\n        return matches.map(f => split[0] + '/' + f)\n      } catch (e) {\n        // oh well, we tried\n      }\n\n      return []\n    },\n\n    async fetchFolderContents() {\n      if (!this.myState.svnRoot) return []\n\n      this.myState.isLoading = true\n      this.myState.errorStatus = ''\n      this.myState.files = []\n\n      try {\n        this.allConfigFiles = await this.findAllConfigsAndDashboards()\n        const folderContents = await this.myState.svnRoot.getDirectory(this.myState.subfolder)\n\n        // hide dot folders\n        const folders = folderContents.dirs.filter(f => !f.startsWith('.')).sort()\n        const files = folderContents.files.filter(f => !f.startsWith('.')).sort()\n\n        // Also show any project-level viz thumbnails from other folders\n        // (but, ensure that files in this folder supercede any project viz files\n        // with the same name)\n        const mergedFilesAndVizes = Object.assign({}, this.allConfigFiles.vizes)\n        for (const file of files) {\n          mergedFilesAndVizes[file] = file\n        }\n\n        const allVizes = Object.values(mergedFilesAndVizes)\n\n        this.myState.errorStatus = ''\n        this.myState.folders = ['UP'].concat(folders)\n\n        this.myState.files = allVizes\n      } catch (err) {\n        // First see if we can get the one-up folder\n        const parent = this.myState.subfolder.lastIndexOf('/')\n\n        if (parent > -1) {\n          // subfolder is @Watched, this triggers a reset:\n          this.subfolder = this.myState.subfolder.slice(0, parent)\n          return\n        } else {\n          // top level fail?\n          this.subfolder = ''\n          return\n        }\n\n        // Bad things happened! Tell user\n        // const e = err as any\n        // console.log('BAD PAGE')\n        // console.log({ eeee: e })\n\n        // this.myState.folders = []\n        // this.myState.files = []\n\n        // this.myState.errorStatus = '<h3>'\n        // if (e.status) this.myState.errorStatus += `${e.status} `\n        // if (e.statusText) this.myState.errorStatus += `${e.statusText}`\n        // if (this.myState.errorStatus === '<h3>') this.myState.errorStatus += 'Error'\n        // this.myState.errorStatus += `</h3>`\n        // if (e.url) this.myState.errorStatus += `<p>${e.url}</p>`\n        // if (e.message) this.myState.errorStatus += `<p>${e.message}</p>`\n        // if (this.myState.errorStatus === '<h3>Error</h3>') this.myState.errorStatus = '' + e\n\n        // if (this.myState.svnProject) {\n        //   this.myState.errorStatus += `<p><i>${this.myState.svnProject.baseURL}${this.myState.subfolder}</i></p>`\n        // }\n\n        // // maybe it failed because password?\n        // if (this.myState.svnProject && this.myState.svnProject.needPassword && e.status === 401) {\n        //   globalStore.commit('requestLogin', this.myState.svnProject.slug)\n        // }\n      } finally {\n        this.myState.isLoading = false\n      }\n    },\n\n    clickedVisualization(index: number) {\n      // (props: { folder: string; i: number; root: string }) {\n      if (this.myState.isLoading) return\n\n      const DBL_CLICK_DELAY = 450\n\n      this.highlightedViz = index\n\n      this.clicks++\n      if (this.clicks === 1) {\n        // start timer to see if we get a second click\n        this.clickTimer = setTimeout(() => {\n          // nothing to do, just un-double click\n          // this.handleSingleClickFolder(props)\n          this.needDoubleClickHint = true\n          this.clicks = 0\n          // this.highlightedViz = -1\n        }, DBL_CLICK_DELAY)\n      } else {\n        // got a second click in time!\n        clearTimeout(this.clickTimer)\n        this.needDoubleClickHint = false\n        this.activateVisualization(index)\n        // do my double-click thing here\n        this.clicks = 0\n      }\n    },\n\n    clickedOnFolder(props: { folder: string; i: number; root: string }) {\n      this.needDoubleClickHint = false\n\n      const { folder, root, i } = props\n\n      if (root) {\n        this.root = root\n        this.subfolder = ''\n        this.updateRoute()\n        return\n      }\n\n      if (this.myState.isLoading) return\n      if (!this.myState.svnProject) return\n\n      // up button is a non-navigate case: might revisit this\n      if (i == 0 && folder === 'UP') {\n        if (this.subfolder === '/' || this.subfolder === '') {\n          this.root = ''\n        } else {\n          const lastSlash = this.subfolder.lastIndexOf('/')\n          this.subfolder = lastSlash > -1 ? this.subfolder.slice(0, lastSlash) : '/'\n        }\n        return\n      }\n\n      this.subfolder = `${this.subfolder}/${folder}`\n    },\n\n    handleSingleClickFolder(xprops: { folder: string; i: number; root: string }) {\n      const { folder, root, i } = xprops\n\n      if (root) {\n        this.root = root\n        this.subfolder = ''\n        this.updateRoute()\n        return\n      }\n\n      if (this.myState.isLoading) return\n      if (!this.myState.svnProject) return\n\n      if (i == 0 && folder === 'UP') return\n\n      const target =\n        folder === '..'\n          ? this.myState.subfolder.substring(0, this.myState.subfolder.lastIndexOf('/'))\n          : this.myState.subfolder + '/' + folder\n\n      const props = {\n        root: this.myState.svnProject.slug,\n        xsubfolder: target,\n      }\n\n      // if we are at top of hierarchy, jump to splashpage\n      if (!target && !this.myState.subfolder) {\n        this.$emit('navigate', { component: 'SplashPage', props: {} })\n      } else {\n        this.$emit('navigate', { component: 'TabbedDashboardView', props })\n      }\n    },\n\n    dragEnd() {\n      this.$emit('isDragging', false)\n    },\n\n    dragStart(event: DragEvent, item: any) {\n      this.$emit('isDragging', true)\n\n      const bundle = Object.assign({}, item, {\n        root: this.root,\n        subfolder: this.myState.subfolder,\n        xsubfolder: this.myState.subfolder,\n      }) as any\n\n      bundle.yamlConfig = bundle.config\n      delete bundle.config\n\n      const text = JSON.stringify(bundle) as any\n      event.dataTransfer?.setData('bundle', text)\n    },\n\n    clickedLogo() {\n      this.$router.push('/')\n    },\n\n    async findAllConfigsAndDashboards() {\n      if (!this.myState.svnRoot) return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n\n      let loadErrorMessage = ''\n\n      try {\n        const { files } = await this.myState.svnRoot.getDirectory(this.subfolder)\n\n        // if folder has .nodashboards, then skip all dashboards!\n        let showDashboards = true\n        NO_DASHBOARDS.forEach(filename => {\n          if (files.indexOf(filename) > -1) {\n            showDashboards = false\n          }\n        })\n\n        const allConfigs = await this.myState.svnRoot.findAllYamlConfigs(this.subfolder)\n\n        // force hide dashboards if user has a .nodashboards file\n        if (!showDashboards) allConfigs.dashboards = {}\n        return allConfigs\n      } catch (e) {\n        // console.error('' + e)\n        return { dashboards: {}, configs: {}, vizes: {}, topsheets: {} }\n        // throw Error('' + e)\n      }\n    },\n\n    async clickedBrowseChromeLocalFolder(row: { key: string; handle: any }) {\n      try {\n        const status = await row.handle.requestPermission({ mode: 'read' })\n        console.log(row.handle, status)\n\n        if (status !== 'granted') return\n\n        // if first time, add its key to the fileSystemConfig\n        const exists = fileSystems.find(f => f.slug == row.key)\n        if (!exists) addLocalFilesystem(row.handle, row.key)\n\n        const props = { root: row.key } as any\n        this.clickedOnFolder(props)\n      } catch (e) {\n        console.error('' + e)\n      }\n    },\n\n    async showChromeDirectory() {\n      try {\n        const FileSystemDirectoryHandle = window.showDirectoryPicker()\n        const dir = await FileSystemDirectoryHandle\n        const slug = addLocalFilesystem(dir, null) // no key yet\n        this.$router.push(`${BASE_URL}${slug}/`)\n      } catch (e) {\n        // shrug\n      }\n    },\n\n    async clickedDelete(row: { key: string; handle: any }) {\n      const handles = this.$store.state.localFileHandles\n      // just filter out the key I guess?\n      const filtered = handles.filter((f: any) => f.key !== row.key)\n\n      // and save it everywhere\n      await set('fs', filtered)\n      this.$store.commit('setLocalFileSystem', filtered)\n    },\n    // - END Chrome File System Access API support\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n.panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 0.25rem;\n  user-select: none;\n  font-size: 0.9rem;\n  color: var(--text);\n}\n\n.top-panel {\n  display: flex;\n  flex-direction: column;\n  margin: 0.25rem 1rem 1rem 1rem;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.25rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #ddd;\n}\n\n.middle-panel,\n.bottom-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  // width: 100%;\n  margin-bottom: 0rem;\n  padding: 0 1rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n  user-select: none;\n\n  h1 {\n    letter-spacing: -1px;\n  }\n  h3 {\n    font-size: 1.2rem;\n    border-bottom: 1px solid #cccccc80;\n    margin-top: 0rem;\n    margin-bottom: 0.25rem;\n  }\n\n  p,\n  a {\n    max-width: 100%;\n    overflow-wrap: break-word;\n  }\n}\n\n.bottom-panel {\n  padding: 0 0.5rem 0.25rem 0.5rem;\n  flex: unset;\n}\n\n.white {\n  background-color: var(--bgBold);\n}\n\n.cream {\n  background-color: var(--bgCream);\n}\n\nh2 {\n  font-size: 1.8rem;\n}\n\n.badnews {\n  border-left: 3rem solid #af232f;\n  margin: 0rem 0rem;\n  padding: 0.5rem 0rem;\n  background-color: #ffc;\n  color: $matsimBlue;\n}\n\n.viz-table {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n}\n\n.viz-grid-item {\n  z-index: 1;\n  margin: 4px 0;\n  // padding: 2px 2px;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  background-color: var(--bgMapPanel);\n  border-radius: 4px;\n}\n\n.viz-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.folder-table {\n  display: grid;\n  gap: 2px;\n  grid-template-columns: repeat(auto-fit, minmax(115px, 1fr));\n  list-style: none;\n  margin-top: 0.5rem;\n  padding-left: 0px;\n}\n\n.folder {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  background-color: var(--bgMapPanel);\n  color: var(--text);\n  line-height: 1.05rem;\n  padding: 3px 4px;\n  border-radius: 0;\n  word-wrap: break-word;\n\n  i {\n    margin-top: 1px;\n  }\n  p {\n    margin-left: 4px;\n  }\n}\n\n.folder:hover {\n  background-color: var(--bgHover);\n  // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08), 0 3px 10px 0 rgba(0, 0, 0, 0.08);\n  transition: background-color 0.08s ease-in-out;\n}\n\n.fade {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.curated-sections {\n  display: flex;\n  flex-direction: column;\n}\n\n.curate-heading {\n  padding: 0rem 0rem;\n  margin: 0rem 0rem;\n}\n\n.curate-content {\n  margin-bottom: 2rem;\n}\n\n.viz-image-table {\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  list-style: none;\n}\n\n.viz-image-grid-item {\n  z-index: 1;\n  text-align: center;\n  margin: 0 0;\n  padding: 0 0;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  vertical-align: top;\n  background-color: var(--bgBold);\n  border: var(--borderThin);\n  border-radius: 16px;\n}\n\n.viz-image-frame {\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  min-height: $thumbnailHeight;\n  border-radius: 16px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    margin: 0 0 0 0;\n    background-color: var(--bgBold);\n    font-weight: bold;\n    line-height: 1.2rem;\n    padding: 1rem 0.5rem;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-image-frame:hover {\n  box-shadow: var(--shadowMode);\n  transition: box-shadow 0.1s ease-in-out;\n}\n\n.viz-image-frame-component {\n  background-color: var(--bgPanel);\n}\n\n.upfolder {\n  background-color: var(--bgBold);\n}\n\n.fa-arrow-up {\n  margin-right: 2px;\n}\n\n.project-root {\n  display: flex;\n  flex-direction: column;\n  margin-top: 0.75rem;\n  padding: 0.5rem 0.5rem;\n  background-color: var(--bgMapPanel);\n  border-left: 3px solid var(--sliderThumb);\n\n  h5 {\n    font-size: 1rem;\n    line-height: 1rem;\n    font-weight: bold;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    line-height: 1.1rem;\n  }\n}\n\n.project-root.local {\n  border-left: 3px solid $matsimBlue;\n}\n\n.project-root:hover {\n  cursor: pointer;\n  background-color: var(--bgHover);\n  transition: background-color 0.1s ease-in-out;\n}\n\n.flex-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.hint-clicks {\n  margin: 0 0 0 0;\n  line-height: 1.2rem;\n  opacity: 0;\n  transition: opacity 0.2s ease-in;\n\n  p {\n    padding-bottom: 0.5rem;\n    text-align: center;\n  }\n\n  b {\n    color: var(--textFancy);\n  }\n}\n\n.config-sources {\n  margin-top: 0.5rem;\n  text-align: right;\n  a {\n    color: var(--text);\n  }\n}\n\n.config-sources a:hover {\n  cursor: pointer;\n  color: var(--linkHover);\n}\n\n.viz-frame {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 1;\n  flex: 1;\n  overflow: hidden;\n  padding: 4px 0 0 4px;\n  border-radius: 3px;\n  p {\n    margin: 0 0 0 0;\n    line-height: 1rem;\n    padding: 0 0;\n    color: var(--text);\n    word-wrap: break-word;\n    /* Required for text-overflow to do anything */\n    // text-overflow: ellipsis;\n    // white-space: nowrap;\n    // overflow: hidden;\n  }\n}\n\n.viz-frame:hover {\n  background-color: var(--bgHover);\n  border-radius: 3px;\n  transition: background-color 0.08s ease-in-out;\n}\n\n.highlighted {\n  background-color: var(--bgHover);\n}\n\n// p.v-title {\n//   // font-size: 1rem;\n// }\n\np.v-filename {\n  margin: 5px 0;\n}\n\np.v-plugin {\n  text-align: right;\n  text-transform: lowercase;\n  margin-left: auto;\n  color: white;\n  background-color: var(--bgCream3);\n  padding: 2px 3px;\n  border-radius: 0 0 4px 0;\n}\n\n.trail {\n  display: flex;\n  width: 100%;\n  // color: var(--link);\n  p:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n.x-breadcrumbs {\n  flex: 1;\n  display: flex;\n  flex-flow: row wrap;\n  line-height: 1.2rem;\n  max-width: 100%;\n  margin-top: 2px;\n\n  p {\n    width: max-content;\n  }\n\n  p:hover {\n    color: var(--linkHover);\n    cursor: pointer;\n  }\n}\n\n.add-folder {\n  margin-top: 1rem;\n}\n\n.fa-times {\n  opacity: 0;\n  float: right;\n  padding: 1px 1px;\n}\n\n.fa-times:hover {\n  color: red;\n}\n\n.fa-times:active {\n  color: darkred;\n}\n\n.project-root:hover .fa-times {\n  opacity: 0.15;\n}\n\n.project-root:hover .fa-times:hover {\n  opacity: 1;\n}\n\n.logo {\n  margin: 1.5rem auto 0.5rem auto;\n}\n\n.logo:hover {\n  color: var(--linkHover);\n  cursor: pointer;\n}\n</style>\n","<template lang=\"pug\">\n.panel\n\n  .top-panel\n    h4 Settings\n\n  .middle-panel\n\n    // theme ------------------\n    .option\n      h5 {{ $t('theme') }}\n      b-button.button.is-white(@click=\"setTheme('light')\"\n        outlined\n        :style=\"isLight\") {{ $t('light') }}\n\n      b-button.button.is-gray(@click=\"setTheme('dark')\"\n        outlined\n        :style=\"isDark\") {{ $t('dark') }}\n\n    // language ---------------\n    .option\n      h5 {{ $t('language') }}\n      b-button.button.is-white(@click=\"setLanguage('en')\"\n        outlined\n        :style=\"isEN\") EN\n\n      b-button.button.is-gray(@click=\"setLanguage('de')\"\n        outlined\n        :style=\"isDE\") DE\n\n    .option\n      h5 {{ $t('dataSources') }}\n      .source.flex-row(v-for=\"root in shortcuts\" :key=\"root.slug\")\n        .desc.flex1\n          p: b {{ root.slug }}\n          p {{ root.description}}\n        .delete(@click=\"deleteShortcut(root.slug)\")\n\n    .option\n      h5 {{ $t('addDataSources') }}\n      add-data-source\n\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: {\n      translate: 'Note: German translations are incomplete, but steadily improving',\n      theme: 'Theme',\n      light: 'Light',\n      dark: 'Dark',\n      language: 'Language',\n      dataSources: 'Data Sources',\n      addDataSources: 'Add Data Source',\n    },\n    de: {\n      translate: 'Die Übersetzungen sind unvollständig, werden aber immer besser...',\n      theme: 'Thema',\n      light: 'Hell',\n      dark: 'Dunkel',\n      language: 'Sprache',\n      dataSources: 'Datenquellen',\n    },\n  },\n}\n\nimport { defineComponent } from 'vue'\n\nimport globalStore from '@/store'\nimport AddDataSource from './AddDataSource.vue'\n\nexport default defineComponent({\n  name: 'SettingsPanel',\n  components: { AddDataSource },\n  i18n,\n  data: () => {\n    return {\n      state: globalStore.state,\n      theme: '',\n      shortcuts: [] as any[],\n    }\n  },\n  mounted() {\n    this.theme = this.state.isDarkMode ? 'dark' : 'light'\n    this.setupShortcuts()\n  },\n  watch: {\n    'state.svnProjects'() {\n      this.setupShortcuts()\n    },\n    'state.isDarkMode'() {\n      console.log('ooop!', this.state.isDarkMode)\n      this.theme = this.state.isDarkMode ? 'dark' : 'light'\n    },\n  },\n  computed: {\n    isLight(): any {\n      return this.theme == 'light'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isDark(): any {\n      return this.theme == 'dark'\n        ? {\n            backgroundColor: '#7957d5',\n            color: 'white',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isEN(): any {\n      return this.state.locale == 'en'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n\n    isDE(): any {\n      return this.state.locale == 'de'\n        ? {\n            backgroundColor: '#ffdd57',\n            color: '#222',\n            borderColor: '#aaa',\n          }\n        : {\n            backgroundColor: 'unset',\n            color: '#888',\n            borderColor: '#aaa',\n          }\n    },\n  },\n  methods: {\n    setupShortcuts() {\n      try {\n        const storedShortcuts = localStorage.getItem('projectShortcuts')\n        if (storedShortcuts) {\n          const roots = JSON.parse(storedShortcuts) as any\n          this.shortcuts = Object.values(roots)\n        }\n      } catch (e) {\n        console.error('ERROR MERGING URL SHORTCUTS:', '' + e)\n      }\n    },\n\n    deleteShortcut(slug: string) {\n      try {\n        const storedShortcuts = localStorage.getItem('projectShortcuts')\n        if (storedShortcuts) {\n          const roots = JSON.parse(storedShortcuts) as any\n          delete roots[slug]\n\n          localStorage.setItem('projectShortcuts', JSON.stringify(roots))\n          globalStore.commit('removeURLShortcut', slug)\n          this.shortcuts = Object.values(roots)\n        }\n      } catch (e) {\n        console.error('ERROR MERGING URL SHORTCUTS:', '' + e)\n      }\n    },\n\n    setTheme(theme: string) {\n      this.theme = theme\n      console.log(this.theme)\n      globalStore.commit('setTheme', theme)\n    },\n\n    setLanguage(lang: string) {\n      this.$store.commit('setLocale', lang)\n      this.$root.$i18n.locale = lang\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n.panel {\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 0.25rem 0;\n  color: var(--text);\n  font-size: 0.9rem;\n}\n\nh4 {\n  background-color: #00000080;\n  text-transform: uppercase;\n  text-align: center;\n  padding: 0.25rem 0.5rem;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n  color: #ddd;\n}\n\nh5 {\n  color: var(--textBold);\n  font-weight: bold;\n  margin-top: 0rem;\n  margin-bottom: 0.25rem;\n}\n\n.top-panel {\n  display: flex;\n  flex-direction: column;\n  margin: 0.25rem 0.5rem 0rem 0.5rem;\n}\n\n.bottom-panel {\n  margin: 1rem 0.5rem;\n}\n\n.settings-area {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 0rem 0rem;\n  overflow-y: auto;\n}\n\n.message-area h3 {\n  margin-top: 1rem;\n  font-size: 1.2rem;\n}\n\n::-webkit-scrollbar-corner {\n  background: rgba(0, 0, 0, 0);\n}\n\n.button {\n  margin-right: 0.25rem;\n  width: 60px;\n}\n\n.button:hover {\n  border: 1px solid white !important;\n}\n\n.option {\n  margin-top: 2rem;\n\n  h5 {\n    text-transform: uppercase;\n  }\n\n  p {\n    margin-top: 0.5rem;\n    line-height: 1.2rem;\n  }\n}\n\n.middle-panel {\n  flex: 1;\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n  padding: 0 0.5rem 0rem 0.5rem;\n  overflow-y: auto;\n  user-select: none;\n}\n\n.slide-right {\n  padding-left: 1rem;\n}\n\n.source {\n  // margin-left: 1rem;\n  margin-bottom: 3px;\n  background-color: var(--bgCream4);\n}\n\n.source .desc p {\n  margin: 0 0;\n  padding: 1px 4px;\n}\n\n.delete {\n  margin: 2px 2px;\n  opacity: 0.4;\n}\n\n.delete:hover {\n  opacity: 1;\n  background-color: red;\n}\n\n@media only screen and (max-width: 640px) {\n}\n</style>\n","<template lang=\"pug\">\n#split-screen(\n  @mousemove=\"dividerDragging\"\n  @mouseup=\"dividerDragEnd\"\n  :style=\"{'userSelect': isDraggingDivider ? 'none' : 'unset'}\"\n)\n  .left-panel(v-show=\"showLeftBar\")\n    left-icon-panel(\n      :activeSection=\"activeLeftSection.name\"\n      @activate=\"setActiveLeftSection({section: $event, toggle:true})\"\n    )\n\n    .left-panel-active-section(v-show=\"isShowingActiveSection\"\n                               :style=\"activeSectionStyle\"\n    )\n      component(v-for=\"section of leftSections\" :key=\"section\"\n                :is=\"section\"\n                v-show=\"section==activeLeftSection.class\"\n                @navigate=\"onNavigate($event,0,0)\"\n                @activate=\"setActiveLeftSection({section: $event, toggle:false})\"\n                @isDragging=\"handleDragStartStop\"\n      )\n\n    .left-panel-divider(v-show=\"activeLeftSection\"\n                        @mousedown=\"dividerDragStart\"\n                        @mouseup=\"dividerDragEnd\"\n                        @mousemove.stop=\"dividerDragging\"\n    )\n\n  .table-of-tiles(ref=\"tileTable\")\n    .authorization-strip(v-if=\"authHandles.length\")\n      .auth-row(v-for=\"auth in authHandles\")\n        p.flex1 {{ '' + auth }}\n        b-button hello\n\n    .row-drop-target(:style=\"buildDragHighlightStyle(-1,-1)\"\n        @drop=\"onDrop({event: $event, row: 'rowTop'})\"\n        @dragover=\"stillDragging({event: $event, row: 'rowTop'})\"\n        @dragover.prevent\n        @dragenter.prevent\n        @dragleave=\"dragEnd\"\n    )\n\n    .tile-row(v-for=\"panelRow,y in panels\" :key=\"y\"\n        v-show=\"fullScreenPanel.y == -1 || fullScreenPanel.y == y\"\n    )\n\n      .drag-container(\n        v-for=\"panel,x in panelRow\" :key=\"panel.key\"\n        @drop=\"onDrop({event: $event,x,y})\"\n        @dragover.prevent\n        @dragenter.prevent\n        @dragover=\"stillDragging({event: $event,x,y})\"\n        @dragleave=\"dragEnd\"\n        :ref=\"`dragContainer${x}-${y}`\"\n        :style=\"getContainerStyle(panel,x,y)\"\n      )\n        .tile-header.flex-row(v-if=\"getShowHeader(panel)\")\n\n          .tile-labels\n            h3(:style=\"{textAlign: isMultipanel ? 'left' : 'center'}\") {{ panel.title }}\n            p(v-if=\"panel.description\") {{ panel.description }}\n\n          .tile-buttons\n            .nav-button.is-small.is-white(\n              v-if=\"panel.info\"\n              @click=\"handleToggleInfoClicked(panel)\"\n            ): i.fa.fa-info-circle\n            //- :title=\"infoToggle[panel.id] ? 'Hide Info':'Show Info'\"\n\n            .nav-button.is-small.is-white(\n              v-show=\"panels.length > 1 || panels[0].length > 1\"\n              @click=\"toggleZoom(panel, x, y)\"\n              :title=\"fullScreenPanel.x > -1 ? 'Restore':'Enlarge'\"\n            ): i.fa.fa-expand\n\n            .nav-button.is-small.is-white(\n              @click=\"onClose(x,y)\"\n              title=\"Close\"\n            ): i.fa.fa-times-circle\n\n        //- here is the actual viz component:\n        component.map-tile(\n          :is=\"panel.component\"\n          :style=\"getTileStyle(panel)\"\n          v-bind=\"cleanProps(panel.props)\"\n          @navigate=\"onNavigate($event,x,y)\"\n          @title=\"setCardTitles(panel, $event)\"\n          @activate=\"setActiveLeftSection({section: $event, toggle:true})\"\n        )\n\n        .drag-highlight(v-if=\"isDragHappening\" :style=\"buildDragHighlightStyle(x,y)\")\n\n    .row-drop-target(v-if=\"isDragHappening\" :style=\"buildDragHighlightStyle(-2,-2)\"\n                    @drop=\"onDrop({event: $event, row: 'rowBottom'})\"\n                    @dragover=\"stillDragging({event: $event, row: 'rowBottom'})\"\n                    @dragover.prevent\n                    @dragenter.prevent\n                    @dragleave=\"dragEnd\"\n    )\n\n</template>\n\n<script lang=\"ts\">\nconst i18n = {\n  messages: {\n    en: { close: 'Close panel', back: 'Go back' },\n    de: { close: 'Schließen', back: 'Zurück' },\n  },\n}\n\nimport Vue, { defineComponent } from 'vue'\n\nimport { Route } from 'vue-router'\nimport micromatch from 'micromatch'\n\nimport globalStore from '@/store'\nimport { pluginComponents } from '@/plugins/pluginRegistry'\n\nimport TabbedDashboardView from './TabbedDashboardView.vue'\nimport SplashPage from './SplashPage.vue'\nimport FolderBrowser from './FolderBrowser.vue'\n\nimport LeftIconPanel, { Section } from '@/components/left-panels/LeftIconPanel.vue'\nimport ErrorPanel from '@/components/left-panels/ErrorPanel.vue'\nimport BrowserPanel from '@/components/left-panels/BrowserPanel.vue'\nimport SettingsPanel from '@/components/left-panels/SettingsPanel.vue'\nimport { FileSystemConfig } from '@/Globals'\n\nconst BASE_URL = import.meta.env.BASE_URL\nconst DEFAULT_LEFT_WIDTH = 300\n\nexport default defineComponent({\n  name: 'LayoutManager',\n  i18n,\n  components: Object.assign(\n    {\n      LeftIconPanel,\n      BrowserPanel,\n      FolderBrowser,\n      ErrorPanel,\n      SettingsPanel,\n      SplashPage,\n      TabbedDashboardView,\n    },\n    pluginComponents\n  ),\n  data: () => {\n    return {\n      // panels is an array of arrays: each row, with its vizes in order.\n      panels: [] as any[][],\n      leftSections: ['BrowserPanel', 'ErrorPanel', 'SettingsPanel'],\n      // scrollbars for dashboards and kebab-case name of any plugins that need them:\n      panelsWithScrollbars: ['TabbedDashboardView', 'FolderBrowser', 'calc-table'],\n      zoomed: false,\n      isEmbedded: false,\n      fullScreenPanel: { x: -1, y: -1 },\n      activeLeftSection: { name: 'Files', class: 'BrowserPanel' } as Section,\n      leftSectionWidth: DEFAULT_LEFT_WIDTH,\n      isDraggingDivider: 0,\n      dragStartWidth: 0,\n      quadrant: null as any,\n      dragX: -1,\n      dragY: -1,\n      isDragHappening: false,\n      isShowingActiveSection: false,\n      authHandles: [] as any[],\n    }\n  },\n  computed: {\n    isMultipanel(): boolean {\n      if (this.panels.length > 1) return true\n      return this.panels[0].length > 1\n    },\n\n    showLeftBar(): boolean {\n      return this.$store.state.isShowingLeftBar\n    },\n\n    activeSectionStyle(): any {\n      if (this.activeLeftSection) {\n        return {\n          width: `${this.leftSectionWidth}px`,\n        }\n      } else return { display: 'none' }\n    },\n  },\n  watch: {\n    '$store.state.statusErrors'() {\n      if (this.$store.state.statusErrors.length) {\n        this.activeLeftSection = { name: 'Issues', class: 'ErrorPanel' }\n      }\n    },\n\n    $route(to: Route, from: Route) {\n      if (to.path === BASE_URL) {\n        // root node is not a normal splitpane, so we instead replace\n        // with a brand new clean startpage.\n        this.panels = [[{ component: 'SplashPage', key: Math.random(), props: {} as any }]]\n      } else {\n        this.buildLayoutFromURL()\n        globalStore.commit('resize')\n      }\n    },\n  },\n  methods: {\n    setActiveLeftSection(props: { toggle: boolean; section: Section }) {\n      // don't open the left bar if it's optional, meaning it's currently closed\n      if (props.section.onlyIfVisible && !this.isShowingActiveSection) return\n\n      // clicked same section as is already shown\n      if (this.isShowingActiveSection && props.section.name === this.activeLeftSection.name) {\n        if (props.toggle) this.isShowingActiveSection = false\n        return\n      }\n\n      // if there's a link, open a tab\n      if (props.section.link) {\n        window.open(props.section.link, '_blank')\n        return\n      }\n\n      this.isShowingActiveSection = true\n      this.activeLeftSection = props.section\n      localStorage.setItem('activeLeftSection', JSON.stringify(props.section))\n      if (this.leftSectionWidth < 48) this.leftSectionWidth = DEFAULT_LEFT_WIDTH\n    },\n\n    buildLayoutFromURL() {\n      let pathMatch = this.$route.params.pathMatch\n      if (pathMatch.startsWith('/')) pathMatch = pathMatch.slice(1)\n\n      // splash page:\n      if (!pathMatch || pathMatch === '/') {\n        this.panels = [[{ component: 'SplashPage', key: Math.random(), props: {} as any }]]\n        return\n      }\n\n      // split panel?\n      if (pathMatch.startsWith('split/')) {\n        const payload = pathMatch.substring(6)\n        try {\n          const content = atob(payload)\n          const json = JSON.parse(content)\n          this.panels = json\n        } catch (e) {\n          // couldn't do\n          console.error('PARSING SPLIT' + e)\n          this.$router.replace('/')\n        }\n        return\n      }\n\n      // figure out project root and subfolder\n      let root = pathMatch\n      let xsubfolder = ''\n      const slash = pathMatch.indexOf('/')\n      if (slash > -1) {\n        root = pathMatch.substring(0, slash)\n        xsubfolder = pathMatch.substring(slash + 1)\n      }\n\n      // single visualization?\n      const fileNameWithoutPath = pathMatch.substring(1 + pathMatch.lastIndexOf('/'))\n      const lowerCaseFileName = fileNameWithoutPath.toLocaleLowerCase()\n\n      for (const vizPlugin of globalStore.state.visualizationTypes.values()) {\n        // be case insensitive for the matching itself\n        if (micromatch.isMatch(lowerCaseFileName, vizPlugin.filePatterns)) {\n          // plugin matched!\n          if (this.panels.length === 1 && this.panels[0].length === 1) {\n            this.panels = [[this.panels[0][0]]]\n          } else {\n            let key = Math.random()\n            this.panels = [\n              [\n                {\n                  key,\n                  component: vizPlugin.kebabName,\n                  title: '',\n                  description: '',\n                  props: {\n                    root,\n                    subfolder: xsubfolder.substring(0, xsubfolder.lastIndexOf('/')),\n                    yamlConfig: fileNameWithoutPath,\n                    thumbnail: false,\n                  } as any,\n                },\n              ],\n            ]\n          }\n\n          // this.$store.commit('setShowLeftBar', false)\n          return\n        }\n      }\n\n      // Last option: folder browser/dashboard panel\n      let key = Math.random()\n      if (this.panels.length === 1 && this.panels[0].length === 1) key = this.panels[0][0].key\n\n      // figure out filesystem\n      const svnProjects: FileSystemConfig[] = this.$store.state.svnProjects.filter(\n        (a: any) => a.slug === root\n      )\n      if (!svnProjects.length) throw Error('no such project')\n      const fileSystem = svnProjects[0]\n\n      const folder = xsubfolder.startsWith('/') ? xsubfolder.slice(1) : xsubfolder\n      const title = `${fileSystem.name}: ${folder}`\n\n      this.panels = [\n        [\n          {\n            key,\n            title,\n            component: 'TabbedDashboardView',\n            props: { root, xsubfolder } as any,\n          },\n        ],\n      ]\n    },\n\n    handleDragStartStop(dragState: boolean) {\n      this.isDragHappening = dragState\n    },\n\n    buildDragHighlightStyle(x: number, y: number) {\n      // top row\n      if (x == -1) {\n        const opacity = this.quadrant == 'rowTop' ? '1' : '0'\n        const pointerEvents = this.isDragHappening ? 'auto' : 'none'\n\n        return { top: 0, opacity, pointerEvents, backgroundColor: '#ffcc4480' }\n      }\n\n      // bottom row\n      if (x == -2) {\n        const opacity = this.quadrant == 'rowBottom' ? '1' : '0'\n        const pointerEvents = this.isDragHappening ? 'auto' : 'none'\n        return { bottom: 0, opacity, pointerEvents, backgroundColor: '#ffcc4480' }\n      }\n\n      // tiles\n      if (x !== this.dragX || y !== this.dragY || !this.quadrant) return {}\n\n      const backgroundColor = this.quadrant.quadrant == 'center' ? '#079f6f80' : '#4444dd90'\n      const area: any = { opacity: 1.0, backgroundColor }\n      Object.entries(this.quadrant).forEach(e => (area[e[0]] = `${e[1]}px`))\n      return area\n    },\n\n    stillDragging(props: { event: DragEvent; x: number; y: number; row: string }) {\n      const { event, x, y, row } = props\n\n      // row is special\n      if (row) {\n        this.quadrant = row\n        return\n      }\n\n      this.dragX = x\n      this.dragY = y\n\n      const ref = this.$refs[`dragContainer${x}-${y}`] as any[]\n\n      // only parent knows its true position\n      const table = this.$refs['tileTable'] as any\n      const navOffset = table.offsetLeft\n\n      const panel = ref[0]\n      const pctX = (event.clientX - panel.offsetLeft - navOffset) / panel.offsetWidth\n      const pctY = (event.clientY - panel.offsetTop) / panel.offsetHeight\n\n      let BORDER = 8\n\n      if (pctX < 0.3) {\n        this.quadrant = {\n          quadrant: 'left',\n          width: panel.offsetWidth / 2 - BORDER * 2,\n          height: panel.offsetHeight - BORDER * 2,\n          marginLeft: BORDER,\n          marginTop: BORDER,\n        }\n      } else if (pctX > 0.7) {\n        this.quadrant = {\n          quadrant: 'right',\n          width: panel.offsetWidth / 2 - BORDER * 2,\n          height: panel.offsetHeight - BORDER * 2,\n          marginLeft: panel.offsetWidth / 2 + BORDER,\n          marginTop: BORDER,\n        }\n        // } else if (pctY < 0.4) {\n        //   this.quadrant = {\n        //     quadrant: 'top',\n        //     width: panel.offsetWidth - BORDER * 2,\n        //     height: panel.offsetHeight / 2 - BORDER * 2,\n        //     marginLeft: BORDER,\n        //     marginTop: BORDER,\n        //   }\n        // } else if (pctY > 0.6) {\n        //   this.quadrant = {\n        //     quadrant: 'bottom',\n        //     width: panel.offsetWidth - BORDER * 2,\n        //     height: panel.offsetHeight / 2 - BORDER * 2,\n        //     marginLeft: BORDER,\n        //     marginTop: panel.offsetHeight / 2 + BORDER,\n        //   }\n      } else {\n        BORDER *= 5\n        const w = (panel.offsetWidth - BORDER * 2) * 0.95\n        const h = (panel.offsetHeight - BORDER * 2) * 0.95\n        this.quadrant = {\n          quadrant: 'center',\n          width: w,\n          height: h,\n          marginLeft: (panel.offsetWidth - w) / 2,\n          marginTop: (panel.offsetHeight - h) / 2,\n        }\n      }\n    },\n\n    dragEnd() {\n      this.quadrant = null\n      this.dragX = -1\n      this.dragY = -1\n    },\n\n    onDrop(props: { event: DragEvent; x: number; y: number; row: string }) {\n      if (!this.quadrant) return\n\n      const { event, x, y, row } = props\n\n      try {\n        const bundle = event.dataTransfer?.getData('bundle') as string\n        const componentConfig = JSON.parse(bundle)\n\n        // dashboard is not a plugin, it is special\n        const component = componentConfig.component || 'TabbedDashboardView'\n\n        const viz = { component, props: componentConfig }\n        this.onSplit({ x, y, row, quadrant: this.quadrant.quadrant, viz })\n      } catch (e) {\n        console.warn('' + e)\n      }\n\n      this.dragEnd()\n    },\n\n    async onSplit(props: {\n      x: number\n      y: number\n      row: string\n      quadrant: string\n      viz: { component: string; props: any }\n    }) {\n      const { x, y, row, quadrant, viz } = props\n\n      const newPanel = {\n        component: viz.component,\n        props: viz.props,\n        title: '',\n        description: '',\n        key: Math.random(),\n      }\n\n      if (row) {\n        switch (row) {\n          case 'rowTop':\n            // add new row at the top\n            this.panels.unshift([newPanel])\n            break\n          case 'rowBottom':\n            // add new row at the bottom\n            this.panels.push([newPanel])\n            break\n          default:\n            console.warn('HUH?', row)\n            break\n        }\n      } else {\n        switch (quadrant) {\n          case 'center':\n            this.panels[y][x] = newPanel\n            break\n          case 'left':\n            this.panels[y].splice(x, 0, newPanel)\n            break\n          case 'right':\n            this.panels[y].splice(x + 1, 0, newPanel)\n            break\n          default:\n            console.warn('TOP AND BOTTOM to be added later')\n            return\n        }\n      }\n\n      this.updateURL()\n      globalStore.commit('resize')\n    },\n\n    onNavigate(newPanel: { component: string; props: any }, x: number, y: number) {\n      if (newPanel.component === 'SplashPage') {\n        this.panels[y][x] = { component: 'SplashPage', props: {}, key: Math.random() }\n      } else {\n        this.panels[y][x] = Object.assign({ key: Math.random() }, newPanel)\n      }\n\n      this.updateURL()\n      this.buildLayoutFromURL()\n    },\n\n    onClose(x: number, y: number) {\n      // kill the element\n      this.panels[y][x].component = null\n\n      // remove the panel\n      this.panels[y].splice(x, 1) // at column x of row y, remove 1 item\n\n      // if whole row is empty, deal with it\n      if (!this.panels[y].length) {\n        if (this.panels.length > 1) {\n          // remove row y if there are other rows\n          this.panels.splice(y, 1)\n        } else {\n          // if EVERYTHING is empty, show the previous page\n          // (does this work if there is no \"previous\" page, i.e. user got here from a direct url?)\n          // doesn't work!\n          // this.$router.back()\n\n          this.panels[0].push({ component: 'SplashPage', key: Math.random(), props: {} as any })\n        }\n      }\n\n      this.updateURL()\n      globalStore.commit('resize')\n    },\n\n    onBack(x: number, y: number) {\n      this.panels[y][x].component = 'TabbedDashboardView'\n      this.panels[y][x].props.xsubfolder = this.panels[y][x].props.subfolder\n      delete this.panels[y][x].props.yamlConfig\n\n      this.updateURL()\n    },\n\n    getShowHeader(panel: any) {\n      // whether or not to show the panel header is a bit convoluted:\n      if (panel.component === 'SplashPage') return false\n      if (this.showLeftBar) return true\n      if (this.panels.length == 1 && this.panels[0].length == 1) return false\n      return true\n    },\n\n    updateURL() {\n      if (this.panels.length === 1 && this.panels[0].length === 1) {\n        const props = this.panels[0][0].props\n\n        const root = props.root || ''\n        const xsubfolder = props.xsubfolder || props.subfolder || ''\n        const yaml = props.yamlConfig || ''\n\n        if (yaml.indexOf('/') > -1) {\n          // a YAML from a config folder will have a path in it:\n          const yamlFileWithoutPath = yaml.substring(yaml.lastIndexOf('/'))\n          this.$router.replace(`${BASE_URL}${root}/${xsubfolder}/${yamlFileWithoutPath}`)\n        } else if (yaml) {\n          // YAML config specified\n          this.$router.push(`${BASE_URL}${root}/${xsubfolder}/${yaml}`)\n        } else {\n          // Just the folder and viz file itself\n          let finalUrl = `${BASE_URL}${root}/${xsubfolder}`\n          if (props.config) finalUrl += `/${props.config}`\n          this.$router.push(finalUrl)\n        }\n      } else {\n        const base64 = btoa(JSON.stringify(this.panels))\n        this.$router.push(`${BASE_URL}split/${base64}`)\n      }\n    },\n\n    // remove title from properties to avoid weird tooltips on components\n    cleanProps(props: any) {\n      const { title, ...propsWithoutTitle } = props\n      return propsWithoutTitle\n    },\n\n    dividerDragStart(e: MouseEvent) {\n      this.isDraggingDivider = e.clientX\n      this.dragStartWidth = this.leftSectionWidth\n    },\n\n    dividerDragEnd(e: MouseEvent) {\n      this.isDraggingDivider = 0\n    },\n\n    dividerDragging(e: MouseEvent) {\n      if (!this.isDraggingDivider) return\n\n      const deltaX = e.clientX - this.isDraggingDivider\n      this.leftSectionWidth = Math.max(0, this.dragStartWidth + deltaX)\n      localStorage.setItem('leftPanelWidth', `${this.leftSectionWidth}`)\n    },\n\n    setCardTitles(card: any, event: any) {\n      if (typeof event == 'string') {\n        // card.title = event // this isn't working, use Vue.set() instead\n        Vue.set(card, 'title', event)\n        card.description = ''\n      } else {\n        card.title = event.title\n        card.description = event.description || ''\n      }\n    },\n\n    async handleToggleInfoClicked(card: any) {\n      console.log('CARD INFO?', card)\n    },\n\n    async toggleZoom(card: any, x: number, y: number) {\n      console.log('ZOOM', card)\n      if (this.fullScreenPanel.x > -1) {\n        this.fullScreenPanel = { x: -1, y: -1 }\n      } else {\n        this.fullScreenPanel = { x, y }\n      }\n\n      // this.$emit('zoom', this.fullScreenCardId)\n      // // allow vue to resize everything\n      // await this.$nextTick()\n      // // tell plotly to resize everything\n      // this.updateDimensions(card.id)\n    },\n\n    updateDimensions(cardId: string) {\n      // const element = document.getElementById(cardId)\n      // if (element) {\n      //   const dimensions = { width: element.clientWidth, height: element.clientHeight }\n      //   if (this.resizers[cardId]) this.resizers[cardId](dimensions)\n      // }\n      // if (!this.isResizing) globalStore.commit('resize')\n    },\n\n    getTileStyle(panel: any) {\n      return {\n        overflow: this.panelsWithScrollbars.includes(panel.component) ? 'auto' : 'hidden',\n        // padding: '5px 5px',\n      }\n    },\n\n    getContainerStyle(panel: any, x: number, y: number) {\n      let style: any = {\n        padding: this.isMultipanel ? '5px 5px' : '0',\n      }\n\n      // // figure out height. If card has registered a resizer with changeDimensions(),\n      // // then it needs a default height (300)\n      // const defaultHeight = plotlyChartTypes[card.type] ? 300 : undefined\n      // const height = card.height ? card.height * 60 : defaultHeight\n\n      // const flex = card.width || 1\n\n      // let style: any = {\n      //   flex: flex,\n      // }\n\n      // if (height) style.minHeight = `${height}px`\n\n      if (this.fullScreenPanel.x == -1) return style\n\n      // full screen ?\n      if (this.fullScreenPanel.x !== x) {\n        style.display = 'none'\n      } else {\n        style = {\n          position: 'absolute',\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          margin: '5px 5px',\n        }\n      }\n\n      return style\n    },\n  },\n  mounted() {\n    // EMBEDDED MODE? We'll hide some chrome\n    if ('embed' in this.$route.query) this.isEmbedded = true\n\n    const width = localStorage.getItem('leftPanelWidth')\n    this.leftSectionWidth = width == null ? DEFAULT_LEFT_WIDTH : parseInt(width)\n    if (this.leftSectionWidth < 0) this.leftSectionWidth = 2\n\n    const section = localStorage.getItem('activeLeftSection')\n    if (section) {\n      try {\n        this.activeLeftSection = JSON.parse(section)\n      } catch (e) {\n        this.activeLeftSection = { name: 'Files', class: 'BrowserPanel' }\n      }\n    } else {\n      this.activeLeftSection = { name: 'Files', class: 'BrowserPanel' }\n    }\n\n    this.buildLayoutFromURL()\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n\n#split-screen {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.left-panel {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\n\n.table-of-tiles {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.tile-row {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n}\n\n.map-tile {\n  grid-row: 2 / 3;\n  grid-column: 1 / 2;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow-y: hidden;\n}\n\n.drag-container {\n  position: relative;\n  flex: 1;\n  height: 100%;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-template-columns: 1fr;\n  background-color: var(--bgBrowser);\n}\n\n.drag-highlight {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin-left: 0px;\n  margin-top: 0px;\n  width: 100%;\n  height: 100%;\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  opacity: 0;\n  z-index: 50000;\n  border: 8px solid #00000000;\n  transition: background-color 0.2s, opacity 0.2s, height 0.2s, width 0.2s, margin-top 0.2s,\n    margin-left 0.2s;\n  transition-timing-function: ease-in;\n  pointer-events: none;\n}\n\n// .control-buttons {\n//   // background-color: var(--bgPanel);\n//   padding: 0.25rem 0.5rem;\n//   z-index: 250;\n//   grid-row: 1 / 2;\n//   grid-column: 1 / 2;\n//   display: flex;\n//   flex-direction: column;\n//   margin: 0 auto auto 0;\n\n//   a {\n//     color: var(--textVeryPale);\n//     font-size: 0.9rem;\n//     margin: 2px 0rem 0.1rem -4px;\n//     padding: 2px 4px 1px 4px;\n//     border-radius: 10px;\n//   }\n\n//   a:hover {\n//     color: var(--textBold);\n//     background-color: var(--bgHover);\n//   }\n// }\n\n.left-panel-divider {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 4px;\n  height: 100%;\n  background-color: #00000000;\n  margin-right: -4px;\n  transition: 0.25s background-color;\n  z-index: 1000;\n}\n\n.left-panel-divider:hover {\n  background-color: var(--sliderThumb); // matsimBlue;\n  transition-delay: 0.25s;\n  cursor: ew-resize;\n}\n\n.left-panel-active-section {\n  background-color: var(--bgBrowser);\n  color: white;\n  width: 300px;\n  padding: 0 0rem 0 0.25rem;\n}\n\n.row-drop-target {\n  position: absolute;\n  width: 100%;\n  height: 48px;\n  opacity: 0;\n  z-index: 60000;\n  transition: background-color 0.2s, opacity 0.2s, height 0.2s, width 0.2s, margin-top 0.2s;\n}\n\n.tile-labels {\n  flex: 1;\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  display: flex;\n  flex-direction: column;\n  margin-left: 5px;\n\n  h3 {\n    font-size: 1.1rem;\n    line-height: 1rem;\n    margin: 4px 0 5px 0;\n    color: var(--textFancy);\n  }\n  p {\n    margin-top: -0.5rem;\n    margin-bottom: 0.5rem;\n  }\n}\n\n.tile-buttons {\n  display: flex;\n  flex-direction: row;\n  // margin-right: 5px;\n  margin-left: auto;\n  color: var(--textFancy);\n}\n\n.nav-button {\n  opacity: 0.3;\n  margin-right: 0px;\n  i {\n    font-size: 0.8rem;\n    padding: 0px 6px;\n  }\n}\n\n.nav-button:hover {\n  background-color: #ffffff20;\n  opacity: 1;\n  cursor: pointer;\n}\n.nav-button:hover .fa-expand {\n  color: var(--linkHover);\n}\n.nav-button:hover .fa-times-circle {\n  color: red;\n}\n\n.tile-header {\n  user-select: none;\n  background-color: var(--bgDashboardHeader);\n  padding: 1px 0px;\n}\n\n.authorization-strip {\n  z-index: 10000;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: #ffc;\n  border: 2px solid blue;\n  border-left: 1rem solid blue;\n  margin: 0.25rem;\n  padding: 0.5rem;\n  filter: $filterShadow;\n}\n\n.auth-row {\n  display: flex;\n}\n</style>\n"],"names":["_typeof","obj","_setPrototypeOf","o","p","_isNativeReflectConstruct","_construct","Parent","args","Class","a","Constructor","instance","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","n","len","i","arr2","hasOwnProperty","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","_ref","apply","construct","fun","thisValue","x","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","set","array","transformCaseFunc","l","element","lcElement","clone","object","newObject","property","lookupGetter","prop","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","document","suffix","ATTR_NAME","policyName","scriptUrl","createDOMPurify","window","DOMPurify","root","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","parentTagName","_forceRemove","node","_removeAttribute","name","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createIterator","_isClobbered","elm","_isNode","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","content","_basicCustomElementTest","parentNode","childNodes","childCount","_isValidAttribute","lcTag","lcName","value","_sanitizeAttributes","attr","attributes","hookEvent","_attr","namespaceURI","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","oldNode","returnNode","nodeIterator","serializedHTML","tag","hookFunction","purify","_extends","target","source","key","isSupported","isNodeList","selector","isNode","isSvg","image","getImagesFromSelector","createOverlay","background","overlay","cloneTarget","_template$getBounding","top","left","width","height","scrollTop","scrollLeft","createCustomEvent","type","params","eventParams","customEvent","mediumZoom","options","Promise","fn","noop","_handleClick","event","close","images","toggle","_handleScroll","isAnimating","active","currentScroll","zoomOptions","_handleKeyUp","update","newOptions","zoom","attach","selectors","newImages","imagesAccumulator","currentSelector","newImage","eventListeners","listener","detach","imagesToDetach","on","off","eventListener","open","_ref2","_animate","container","viewportWidth","viewportHeight","zoomContainer","_zoomContainer$getBou","_width","_height","_left","_top","zoomTarget","naturalWidth","naturalHeight","_zoomTarget$getBoundi","scaleX","scaleY","scale","translateX","translateY","transform","resolve","_handleOpenEnd","_images","getZoomTargetSize","loadEventListener","_handleCloseEnd","_ref3","getOptions","getImages","getZoomedImage","styleInject","css","ref","insertAt","head","style","mediumZoom$1","i18n","_sfc_main$b","defineComponent","TopSheet","HTTPFileSystem","tabColors","_sfc_main$a","TopsheetsFinder","pluginComponents","globalStore","markdown","maps","svnProject","crumbs","subfolders","buildFolder","folder","vizNumber","viz","props","title","readme","f","micromatch","file","summaryYaml","yaml","vizName","pattern","glob","split","subsubfolder","contents","folderContents","folders","files","mergedFilesAndVizes","allVizes","err","kebabName","NO_DASHBOARDS","mdRenderer","_sfc_main$9","DashBoard","FolderBrowser","readmes","readmeText","showDashboards","filename","fullPath","Vue","userSupplied","userTab","e","config","YAML","yamlFolder","which","header","dirs","allContents","shortFilename","Status","DashboardDataManager","tab","index","isZoomed","handle","_sfc_main$8","destination","BASE_URL","logos","_sfc_main$6","FileSystemProjects","InfoBottom","b","roots","row","status","fileSystems","addLocalFilesystem","dir","slug","filtered","__$_require_2365ec36__","__$_require_f0afd424__","ICON_FILES","ICON_ISSUES","ICON_INFO","ICON_DOCS","DOCS_URL","_sfc_main$5","section","colorizedOpacity","_sfc_main$4","color","message","isError","mdAddNotes","_sfc_main$3","MarkdownIt","KEY","existingRoot","components","AddDataSource","_sfc_main$2","skipList","hints","crumb","pathMatch","subfolder","slash","cleanSubfolder","DBL_CLICK_DELAY","lastSlash","xprops","item","bundle","_a","allConfigs","_sfc_main$1","storedShortcuts","theme","lang","DEFAULT_LEFT_WIDTH","_sfc_main","LeftIconPanel","BrowserPanel","ErrorPanel","SettingsPanel","SplashPage","TabbedDashboardView","to","from","payload","json","xsubfolder","fileNameWithoutPath","lowerCaseFileName","vizPlugin","svnProjects","fileSystem","dragState","y","opacity","pointerEvents","area","navOffset","panel","pctX","BORDER","w","h","componentConfig","quadrant","newPanel","yamlFileWithoutPath","finalUrl","base64","propsWithoutTitle","deltaX","card","cardId"],"mappings":"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","x_google_ignoreList":[0,1]}